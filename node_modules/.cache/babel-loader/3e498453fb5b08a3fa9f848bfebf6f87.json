{"ast":null,"code":"import { createSlice, createAsyncThunk, createEntityAdapter } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport const getTodos = createAsyncThunk('todoApp/todos/getTodos', async (routeParams, {\n  getState\n}) => {\n  routeParams = routeParams || getState().todoApp.todos.routeParams;\n  const response = await axios.get('/api/todo-app/todos', {\n    params: routeParams\n  });\n  const data = await response.data;\n  return {\n    data,\n    routeParams\n  };\n});\nexport const addTodo = createAsyncThunk('todoApp/todos/addTodo', async (todo, {\n  dispatch,\n  getState\n}) => {\n  const response = await axios.post('/api/todo-app/new-todo', todo);\n  const data = await response.data;\n  dispatch(getTodos());\n  return data;\n});\nexport const updateTodo = createAsyncThunk('todoApp/todos/updateTodo', async (todo, {\n  dispatch,\n  getState\n}) => {\n  const response = await axios.post('/api/todo-app/update-todo', todo);\n  const data = await response.data;\n  dispatch(getTodos());\n  return data;\n});\nexport const removeTodo = createAsyncThunk('todoApp/todos/removeTodo', async (todoId, {\n  dispatch,\n  getState\n}) => {\n  const response = await axios.post('/api/todo-app/remove-todo', todoId);\n  const data = await response.data;\n  dispatch(getTodos());\n  return data;\n});\nconst todosAdapter = createEntityAdapter({});\nexport const {\n  selectAll: selectTodos,\n  selectById: selectTodosById\n} = todosAdapter.getSelectors(state => state.todoApp.todos);\nconst todosSlice = createSlice({\n  name: 'todoApp/todos',\n  initialState: todosAdapter.getInitialState({\n    searchText: '',\n    orderBy: '',\n    orderDescending: false,\n    routeParams: {},\n    todoDialog: {\n      type: 'new',\n      props: {\n        open: false\n      },\n      data: null\n    }\n  }),\n  reducers: {\n    setTodosSearchText: {\n      reducer: (state, action) => {\n        state.searchText = action.payload;\n      },\n      prepare: event => ({\n        payload: event.target.value || ''\n      })\n    },\n    toggleOrderDescending: (state, action) => {\n      state.orderDescending = !state.orderDescending;\n    },\n    changeOrder: (state, action) => {\n      state.orderBy = action.payload;\n    },\n    openNewTodoDialog: (state, action) => {\n      state.todoDialog = {\n        type: 'new',\n        props: {\n          open: true\n        },\n        data: null\n      };\n    },\n    closeNewTodoDialog: (state, action) => {\n      state.todoDialog = {\n        type: 'new',\n        props: {\n          open: false\n        },\n        data: null\n      };\n    },\n    openEditTodoDialog: (state, action) => {\n      state.todoDialog = {\n        type: 'edit',\n        props: {\n          open: true\n        },\n        data: action.payload\n      };\n    },\n    closeEditTodoDialog: (state, action) => {\n      state.todoDialog = {\n        type: 'edit',\n        props: {\n          open: false\n        },\n        data: null\n      };\n    }\n  },\n  extraReducers: {\n    [updateTodo.fulfilled]: todosAdapter.upsertOne,\n    [addTodo.fulfilled]: todosAdapter.addOne,\n    [getTodos.fulfilled]: (state, action) => {\n      const {\n        data,\n        routeParams\n      } = action.payload;\n      todosAdapter.setAll(state, data);\n      state.routeParams = routeParams;\n      state.searchText = '';\n    }\n  }\n});\nexport const {\n  setTodosSearchText,\n  toggleOrderDescending,\n  changeOrder,\n  openNewTodoDialog,\n  closeNewTodoDialog,\n  openEditTodoDialog,\n  closeEditTodoDialog\n} = todosSlice.actions;\nexport default todosSlice.reducer;","map":{"version":3,"sources":["D:/proyectos_react/Proyecto_sena/src/app/main/apps/todo/store/todosSlice.js"],"names":["createSlice","createAsyncThunk","createEntityAdapter","axios","getTodos","routeParams","getState","todoApp","todos","response","get","params","data","addTodo","todo","dispatch","post","updateTodo","removeTodo","todoId","todosAdapter","selectAll","selectTodos","selectById","selectTodosById","getSelectors","state","todosSlice","name","initialState","getInitialState","searchText","orderBy","orderDescending","todoDialog","type","props","open","reducers","setTodosSearchText","reducer","action","payload","prepare","event","target","value","toggleOrderDescending","changeOrder","openNewTodoDialog","closeNewTodoDialog","openEditTodoDialog","closeEditTodoDialog","extraReducers","fulfilled","upsertOne","addOne","setAll","actions"],"mappings":"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","sourcesContent":["import { createSlice, createAsyncThunk, createEntityAdapter } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nexport const getTodos = createAsyncThunk('todoApp/todos/getTodos', async (routeParams, { getState }) => {\n\trouteParams = routeParams || getState().todoApp.todos.routeParams;\n\tconst response = await axios.get('/api/todo-app/todos', {\n\t\tparams: routeParams\n\t});\n\tconst data = await response.data;\n\n\treturn { data, routeParams };\n});\n\nexport const addTodo = createAsyncThunk('todoApp/todos/addTodo', async (todo, { dispatch, getState }) => {\n\tconst response = await axios.post('/api/todo-app/new-todo', todo);\n\tconst data = await response.data;\n\n\tdispatch(getTodos());\n\n\treturn data;\n});\n\nexport const updateTodo = createAsyncThunk('todoApp/todos/updateTodo', async (todo, { dispatch, getState }) => {\n\tconst response = await axios.post('/api/todo-app/update-todo', todo);\n\tconst data = await response.data;\n\n\tdispatch(getTodos());\n\n\treturn data;\n});\n\nexport const removeTodo = createAsyncThunk('todoApp/todos/removeTodo', async (todoId, { dispatch, getState }) => {\n\tconst response = await axios.post('/api/todo-app/remove-todo', todoId);\n\tconst data = await response.data;\n\n\tdispatch(getTodos());\n\n\treturn data;\n});\n\nconst todosAdapter = createEntityAdapter({});\n\nexport const { selectAll: selectTodos, selectById: selectTodosById } = todosAdapter.getSelectors(\n\tstate => state.todoApp.todos\n);\n\nconst todosSlice = createSlice({\n\tname: 'todoApp/todos',\n\tinitialState: todosAdapter.getInitialState({\n\t\tsearchText: '',\n\t\torderBy: '',\n\t\torderDescending: false,\n\t\trouteParams: {},\n\t\ttodoDialog: {\n\t\t\ttype: 'new',\n\t\t\tprops: {\n\t\t\t\topen: false\n\t\t\t},\n\t\t\tdata: null\n\t\t}\n\t}),\n\treducers: {\n\t\tsetTodosSearchText: {\n\t\t\treducer: (state, action) => {\n\t\t\t\tstate.searchText = action.payload;\n\t\t\t},\n\t\t\tprepare: event => ({ payload: event.target.value || '' })\n\t\t},\n\t\ttoggleOrderDescending: (state, action) => {\n\t\t\tstate.orderDescending = !state.orderDescending;\n\t\t},\n\t\tchangeOrder: (state, action) => {\n\t\t\tstate.orderBy = action.payload;\n\t\t},\n\t\topenNewTodoDialog: (state, action) => {\n\t\t\tstate.todoDialog = {\n\t\t\t\ttype: 'new',\n\t\t\t\tprops: {\n\t\t\t\t\topen: true\n\t\t\t\t},\n\t\t\t\tdata: null\n\t\t\t};\n\t\t},\n\t\tcloseNewTodoDialog: (state, action) => {\n\t\t\tstate.todoDialog = {\n\t\t\t\ttype: 'new',\n\t\t\t\tprops: {\n\t\t\t\t\topen: false\n\t\t\t\t},\n\t\t\t\tdata: null\n\t\t\t};\n\t\t},\n\t\topenEditTodoDialog: (state, action) => {\n\t\t\tstate.todoDialog = {\n\t\t\t\ttype: 'edit',\n\t\t\t\tprops: {\n\t\t\t\t\topen: true\n\t\t\t\t},\n\t\t\t\tdata: action.payload\n\t\t\t};\n\t\t},\n\t\tcloseEditTodoDialog: (state, action) => {\n\t\t\tstate.todoDialog = {\n\t\t\t\ttype: 'edit',\n\t\t\t\tprops: {\n\t\t\t\t\topen: false\n\t\t\t\t},\n\t\t\t\tdata: null\n\t\t\t};\n\t\t}\n\t},\n\textraReducers: {\n\t\t[updateTodo.fulfilled]: todosAdapter.upsertOne,\n\t\t[addTodo.fulfilled]: todosAdapter.addOne,\n\t\t[getTodos.fulfilled]: (state, action) => {\n\t\t\tconst { data, routeParams } = action.payload;\n\t\t\ttodosAdapter.setAll(state, data);\n\t\t\tstate.routeParams = routeParams;\n\t\t\tstate.searchText = '';\n\t\t}\n\t}\n});\n\nexport const {\n\tsetTodosSearchText,\n\ttoggleOrderDescending,\n\tchangeOrder,\n\topenNewTodoDialog,\n\tcloseNewTodoDialog,\n\topenEditTodoDialog,\n\tcloseEditTodoDialog\n} = todosSlice.actions;\n\nexport default todosSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}