{"ast":null,"code":"import _objectSpread from\"D:\\\\proyectos_react\\\\Proyecto_sena_desarrollo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:\\\\proyectos_react\\\\Proyecto_sena_desarrollo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{TextFieldFormsy}from'@fuse/core/formsy';import Button from'@material-ui/core/Button';import Icon from'@material-ui/core/Icon';import IconButton from'@material-ui/core/IconButton';import InputAdornment from'@material-ui/core/InputAdornment';//import Typography from '@material-ui/core/Typography';\nimport Formsy from'formsy-react';import React,{useEffect,useRef,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{submitLogin}from'app/auth/store/loginSlice';function JWTLoginTab(props){var dispatch=useDispatch();var login=useSelector(function(_ref){var auth=_ref.auth;return auth.login;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isFormValid=_useState2[0],setIsFormValid=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showPassword=_useState4[0],setShowPassword=_useState4[1];var formRef=useRef(null);useEffect(function(){if(login.error&&(login.error.email||login.error.password)){formRef.current.updateInputsWithError(_objectSpread({},login.error));disableButton();}},[login.error]);function disableButton(){setIsFormValid(false);}function enableButton(){setIsFormValid(true);}function handleSubmit(model){dispatch(submitLogin(model));}return/*#__PURE__*/React.createElement(\"div\",{className:\"w-full\"},/*#__PURE__*/React.createElement(Formsy,{onValidSubmit:handleSubmit,onValid:enableButton,onInvalid:disableButton,ref:formRef,className:\"flex flex-col justify-center w-full\"},/*#__PURE__*/React.createElement(TextFieldFormsy,{className:\"mb-16\",type:\"text\",name:\"email\",label:\"Username/Email\",value:\"admin\",validations:{minLength:4},validationErrors:{minLength:'La longitud mínima de caracteres es 4'},InputProps:{endAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"end\"},/*#__PURE__*/React.createElement(Icon,{className:\"text-20\",color:\"action\"},\"email\"))},variant:\"outlined\",required:true}),/*#__PURE__*/React.createElement(TextFieldFormsy,{className:\"mb-16\",type:\"password\",name:\"password\",label:\"Password\",value:\"admin\",validations:{minLength:4},validationErrors:{minLength:'La longitud mínima de caracteres es 4'},InputProps:{className:'pr-2',type:showPassword?'text':'password',endAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"end\"},/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(){return setShowPassword(!showPassword);}},/*#__PURE__*/React.createElement(Icon,{className:\"text-20\",color:\"action\"},showPassword?'visibility':'visibility_off')))},variant:\"outlined\",required:true}),/*#__PURE__*/React.createElement(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",className:\"w-full mx-auto mt-16 normal-case\",\"aria-label\":\"LOG IN\",disabled:!isFormValid,value:\"legacy\"},\"Iniciar Sesi\\xF3n\")));}export default JWTLoginTab;","map":null,"metadata":{},"sourceType":"module"}