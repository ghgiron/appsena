{"ast":null,"code":"import FusePageSimple from'@fuse/core/FusePageSimple';import FuseScrollbars from'@fuse/core/FuseScrollbars';import{green}from'@material-ui/core/colors';import Fab from'@material-ui/core/Fab';import Hidden from'@material-ui/core/Hidden';import Icon from'@material-ui/core/Icon';import IconButton from'@material-ui/core/IconButton';import Paper from'@material-ui/core/Paper';import Step from'@material-ui/core/Step';import StepLabel from'@material-ui/core/StepLabel';import Stepper from'@material-ui/core/Stepper';import{makeStyles,useTheme}from'@material-ui/core/styles';import Typography from'@material-ui/core/Typography';import withReducer from'app/store/withReducer';import React,{useEffect,useRef}from'react';import{useDispatch,useSelector}from'react-redux';import{Link,useParams}from'react-router-dom';import{useDeepCompareEffect}from'@fuse/hooks';import SwipeableViews from'react-swipeable-views';import reducer from'../store';import{getCourse,updateCourse}from'../store/courseSlice';import TipoEmpresa from'../../empresa/TipoEmpresas';var useStyles=makeStyles(function(theme){return{stepLabel:{cursor:'pointer!important'},successFab:{background:\"\".concat(green[500],\"!important\"),color:'white!important'}};});function Course(props){var dispatch=useDispatch();var course=useSelector(function(_ref){var academyApp=_ref.academyApp;return academyApp.course;});var theme=useTheme();var routeParams=useParams();var classes=useStyles(props);var pageLayout=useRef(null);useDeepCompareEffect(function(){/**\n\t\t * Get the Course Data\n\t\t */dispatch(getCourse(routeParams));},[dispatch,routeParams]);useEffect(function(){/**\n\t\t * If the course is opened for the first time\n\t\t * Change ActiveStep to 1\n\t\t */if(course&&course.activeStep===0){dispatch(updateCourse({activeStep:1}));}},[dispatch,course]);function handleChangeActiveStep(index){dispatch(updateCourse({activeStep:index+1}));}function handleNext(){dispatch(updateCourse({activeStep:course.activeStep+1}));}function handleBack(){dispatch(updateCourse({activeStep:course.activeStep-1}));}var activeStep=course&&course.activeStep!==0?course.activeStep:1;return/*#__PURE__*/React.createElement(FusePageSimple,{classes:{content:'flex flex-col flex-auto overflow-hidden',header:'h-72 min-h-72'},header:/*#__PURE__*/React.createElement(\"div\",{className:\"flex flex-1 items-center px-16 lg:px-24\"},/*#__PURE__*/React.createElement(Hidden,{lgUp:true},/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(ev){return pageLayout.current.toggleLeftSidebar();},\"aria-label\":\"open left sidebar\"},/*#__PURE__*/React.createElement(Icon,null,\"menu\"))),/*#__PURE__*/React.createElement(IconButton,{to:\"/apps/academy/courses\",component:Link},/*#__PURE__*/React.createElement(Icon,null,theme.direction==='ltr'?'arrow_back':'arrow_forward')),course&&/*#__PURE__*/React.createElement(Typography,{className:\"flex-1 text-20 mx-16\"},course.title)),content:course&&/*#__PURE__*/React.createElement(\"div\",{className:\"flex flex-1 relative overflow-hidden\"},/*#__PURE__*/React.createElement(FuseScrollbars,{className:\"w-full overflow-auto\"},/*#__PURE__*/React.createElement(SwipeableViews,{className:\"overflow-hidden\",index:activeStep-1,enableMouseEvents:true,onChangeIndex:handleChangeActiveStep},course.steps.map(function(step,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"flex justify-center p-16 pb-64 sm:p-24 sm:pb-64 md:p-48 md:pb-64\",key:step.id},/*#__PURE__*/React.createElement(Paper,{className:\"w-full max-w-lg rounded-8 p-16 md:p-24\",elevation:1},/*#__PURE__*/React.createElement(\"div\",{dangerouslySetInnerHTML:{__html:step.content},dir:theme.direction}),console.log(step.id),/*#__PURE__*/React.createElement(TipoEmpresa,null)));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"flex justify-center w-full absolute left-0 right-0 bottom-0 pb-16 md:pb-32\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex justify-between w-full max-w-xl px-8\"},/*#__PURE__*/React.createElement(\"div\",null,activeStep!==1&&/*#__PURE__*/React.createElement(Fab,{className:\"\",color:\"secondary\",onClick:handleBack},/*#__PURE__*/React.createElement(Icon,null,theme.direction==='ltr'?'chevron_left':'chevron_right'))),/*#__PURE__*/React.createElement(\"div\",null,activeStep<course.steps.length?/*#__PURE__*/React.createElement(Fab,{className:\"\",color:\"secondary\",onClick:handleNext},/*#__PURE__*/React.createElement(Icon,null,theme.direction==='ltr'?'chevron_right':'chevron_left')):/*#__PURE__*/React.createElement(Fab,{className:classes.successFab,to:\"/apps/academy/courses\",component:Link},/*#__PURE__*/React.createElement(Icon,null,\"check\")))))),leftSidebarContent:course&&/*#__PURE__*/React.createElement(Stepper,{classes:{root:'bg-transparent'},activeStep:activeStep-1,orientation:\"vertical\"},course.steps.map(function(step,index){return/*#__PURE__*/React.createElement(Step,{key:step.id,onClick:function onClick(){return handleChangeActiveStep(index);}},/*#__PURE__*/React.createElement(StepLabel,{classes:{root:classes.stepLabel}},step.title));})),innerScroll:true,ref:pageLayout});}export default withReducer('academyApp',reducer)(Course);","map":null,"metadata":{},"sourceType":"module"}