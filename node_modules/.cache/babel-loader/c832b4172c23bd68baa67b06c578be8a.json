{"ast":null,"code":"var _jsxFileName = \"D:\\\\proyectos_react\\\\Proyecto_sena\\\\src\\\\app\\\\main\\\\apps\\\\mail\\\\mail\\\\MailDetails.js\";\nimport FuseAnimate from '@fuse/core/FuseAnimate';\nimport _ from '@lodash';\nimport Avatar from '@material-ui/core/Avatar';\nimport Divider from '@material-ui/core/Divider';\nimport Icon from '@material-ui/core/Icon';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { withRouter, useParams } from 'react-router-dom';\nimport { useDeepCompareEffect } from '@fuse/hooks';\nimport MailChip from '../MailChip';\nimport { selectLabelsEntities } from '../store/labelsSlice';\nimport { getMail } from '../store/mailSlice';\n\nfunction MailDetails(props) {\n  const dispatch = useDispatch();\n  const mail = useSelector(({\n    mailApp\n  }) => mailApp.mail);\n  const labels = useSelector(selectLabelsEntities);\n  const routeParams = useParams();\n  const [showDetails, setShowDetails] = useState(false);\n  useDeepCompareEffect(() => {\n    dispatch(getMail(routeParams));\n  }, [dispatch, routeParams]);\n\n  if (!mail) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-16 sm:p-24\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center justify-between overflow-hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FuseAnimate, {\n    delay: 100,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    className: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, mail.subject)), !_.isEmpty(labels) && mail.labels.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-wrap mt-8 -mx-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, mail.labels.map(label => /*#__PURE__*/React.createElement(MailChip, {\n    className: \"mt-4 mx-2\",\n    title: labels[label].title,\n    color: labels[label].color,\n    key: label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }))))), /*#__PURE__*/React.createElement(Divider, {\n    className: \"my-16\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(FuseAnimate, {\n    animation: \"transition.slideUpIn\",\n    delay: 200,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-start justify-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center justify-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, mail.from.avatar ? /*#__PURE__*/React.createElement(Avatar, {\n    alt: mail.from.name,\n    src: mail.from.avatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(Avatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, mail.from.name[0]), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-col mx-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, mail.from.name), /*#__PURE__*/React.createElement(Typography, {\n    component: \"div\",\n    color: \"textSecondary\",\n    variant: \"body1\",\n    className: \"flex items-center justify-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 10\n    }\n  }, \"to\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mx-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 10\n    }\n  }, mail.to[0].name)))), /*#__PURE__*/React.createElement(IconButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 8\n    }\n  }, \"more_vert\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my-16\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    color: \"primary\",\n    className: \"cursor-pointer underline mb-8\",\n    onClick: () => {\n      setShowDetails(!showDetails);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, showDetails ? /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 23\n    }\n  }, \"Hide Details\") : /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 51\n    }\n  }, \"Show Details\")), showDetails && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    className: \"flex flex-col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 10\n    }\n  }, \"From:\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 10\n    }\n  }, \"To:\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 10\n    }\n  }, \"Date:\")), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    className: \"px-4 flex flex-col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 10\n    }\n  }, mail.from.email), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 10\n    }\n  }, mail.to[0].email), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 10\n    }\n  }, mail.time)))), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    dangerouslySetInnerHTML: {\n      __html: mail.message\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(Divider, {\n    className: \"my-16\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 6\n    }\n  }), mail.attachments && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    className: \"mb-16\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mx-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, \"Attachments\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, \"(\", mail.attachments.length, \")\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-wrap -mx-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 8\n    }\n  }, mail.attachments.map(attachment => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-192 px-8 pb-16\",\n    key: attachment.fileName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"w-full rounded-4\",\n    src: attachment.preview,\n    alt: attachment.fileName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    color: \"primary\",\n    className: \"underline cursor-pointer\",\n    onClick: event => event.preventDefault(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 12\n    }\n  }, \"View\"), /*#__PURE__*/React.createElement(Typography, {\n    color: \"primary\",\n    className: \"underline cursor-pointer\",\n    onClick: event => event.preventDefault(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 12\n    }\n  }, \"Download\"), /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 12\n    }\n  }, \"(\", attachment.size, \")\")))))))));\n}\n\nexport default withRouter(MailDetails);","map":{"version":3,"sources":["D:/proyectos_react/Proyecto_sena/src/app/main/apps/mail/mail/MailDetails.js"],"names":["FuseAnimate","_","Avatar","Divider","Icon","IconButton","Typography","React","useState","useDispatch","useSelector","withRouter","useParams","useDeepCompareEffect","MailChip","selectLabelsEntities","getMail","MailDetails","props","dispatch","mail","mailApp","labels","routeParams","showDetails","setShowDetails","subject","isEmpty","length","map","label","title","color","from","avatar","name","to","email","time","__html","message","attachments","attachment","fileName","preview","event","preventDefault","size"],"mappings":"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","sourcesContent":["import FuseAnimate from '@fuse/core/FuseAnimate';\nimport _ from '@lodash';\nimport Avatar from '@material-ui/core/Avatar';\nimport Divider from '@material-ui/core/Divider';\nimport Icon from '@material-ui/core/Icon';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { withRouter, useParams } from 'react-router-dom';\nimport { useDeepCompareEffect } from '@fuse/hooks';\nimport MailChip from '../MailChip';\nimport { selectLabelsEntities } from '../store/labelsSlice';\nimport { getMail } from '../store/mailSlice';\n\nfunction MailDetails(props) {\n\tconst dispatch = useDispatch();\n\tconst mail = useSelector(({ mailApp }) => mailApp.mail);\n\tconst labels = useSelector(selectLabelsEntities);\n\n\tconst routeParams = useParams();\n\tconst [showDetails, setShowDetails] = useState(false);\n\n\tuseDeepCompareEffect(() => {\n\t\tdispatch(getMail(routeParams));\n\t}, [dispatch, routeParams]);\n\n\tif (!mail) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"p-16 sm:p-24\">\n\t\t\t<div className=\"flex items-center justify-between overflow-hidden\">\n\t\t\t\t<div className=\"flex flex-col\">\n\t\t\t\t\t<FuseAnimate delay={100}>\n\t\t\t\t\t\t<Typography variant=\"subtitle1\" className=\"flex\">\n\t\t\t\t\t\t\t{mail.subject}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</FuseAnimate>\n\n\t\t\t\t\t{!_.isEmpty(labels) && mail.labels.length > 0 && (\n\t\t\t\t\t\t<div className=\"flex flex-wrap mt-8 -mx-2\">\n\t\t\t\t\t\t\t{mail.labels.map(label => (\n\t\t\t\t\t\t\t\t<MailChip\n\t\t\t\t\t\t\t\t\tclassName=\"mt-4 mx-2\"\n\t\t\t\t\t\t\t\t\ttitle={labels[label].title}\n\t\t\t\t\t\t\t\t\tcolor={labels[label].color}\n\t\t\t\t\t\t\t\t\tkey={label}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<Divider className=\"my-16\" />\n\n\t\t\t<FuseAnimate animation=\"transition.slideUpIn\" delay={200}>\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"flex items-start justify-between\">\n\t\t\t\t\t\t<div className=\"flex items-center justify-start\">\n\t\t\t\t\t\t\t{mail.from.avatar ? (\n\t\t\t\t\t\t\t\t<Avatar alt={mail.from.name} src={mail.from.avatar} />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Avatar>{mail.from.name[0]}</Avatar>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<div className=\"flex flex-col mx-8\">\n\t\t\t\t\t\t\t\t<span>{mail.from.name}</span>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t\t\t\t\tvariant=\"body1\"\n\t\t\t\t\t\t\t\t\tclassName=\"flex items-center justify-start\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div>to</div>\n\t\t\t\t\t\t\t\t\t<div className=\"mx-4\">{mail.to[0].name}</div>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<IconButton>\n\t\t\t\t\t\t\t<Icon>more_vert</Icon>\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"my-16\">\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tclassName=\"cursor-pointer underline mb-8\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetShowDetails(!showDetails);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{showDetails ? <span>Hide Details</span> : <span>Show Details</span>}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t{showDetails && (\n\t\t\t\t\t\t\t<div className=\"flex\">\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\" className=\"flex flex-col\">\n\t\t\t\t\t\t\t\t\t<span>From:</span>\n\t\t\t\t\t\t\t\t\t<span>To:</span>\n\t\t\t\t\t\t\t\t\t<span>Date:</span>\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\" color=\"textSecondary\" className=\"px-4 flex flex-col\">\n\t\t\t\t\t\t\t\t\t<span>{mail.from.email}</span>\n\t\t\t\t\t\t\t\t\t<span>{mail.to[0].email}</span>\n\t\t\t\t\t\t\t\t\t<span>{mail.time}</span>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Typography variant=\"body2\" dangerouslySetInnerHTML={{ __html: mail.message }} />\n\n\t\t\t\t\t<Divider className=\"my-16\" />\n\n\t\t\t\t\t{mail.attachments && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" className=\"mb-16\">\n\t\t\t\t\t\t\t\t<span className=\"mx-4\">Attachments</span>\n\t\t\t\t\t\t\t\t<span>({mail.attachments.length})</span>\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t<div className=\"flex flex-wrap -mx-8\">\n\t\t\t\t\t\t\t\t{mail.attachments.map(attachment => (\n\t\t\t\t\t\t\t\t\t<div className=\"w-192 px-8 pb-16\" key={attachment.fileName}>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full rounded-4\"\n\t\t\t\t\t\t\t\t\t\t\tsrc={attachment.preview}\n\t\t\t\t\t\t\t\t\t\t\talt={attachment.fileName}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex flex-col\">\n\t\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"underline cursor-pointer\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={event => event.preventDefault()}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"underline cursor-pointer\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={event => event.preventDefault()}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tDownload\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t<Typography>({attachment.size})</Typography>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</FuseAnimate>\n\t\t</div>\n\t);\n}\n\nexport default withRouter(MailDetails);\n"]},"metadata":{},"sourceType":"module"}