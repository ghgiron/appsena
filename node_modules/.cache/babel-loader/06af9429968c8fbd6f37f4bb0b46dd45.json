{"ast":null,"code":"var _jsxFileName = \"D:\\\\proyectos_react\\\\Proyecto_sena_desarrollo\\\\src\\\\app\\\\main\\\\login\\\\tabs\\\\JWTLoginTab.js\";\nimport { TextFieldFormsy } from '@fuse/core/formsy';\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputAdornment from '@material-ui/core/InputAdornment'; //import Typography from '@material-ui/core/Typography';\n\nimport Formsy from 'formsy-react';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { submitLogin } from 'app/auth/store/loginSlice';\n\nfunction JWTLoginTab(props) {\n  const dispatch = useDispatch();\n  const login = useSelector(({\n    auth\n  }) => auth.login);\n  const [isFormValid, setIsFormValid] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const formRef = useRef(null);\n  useEffect(() => {\n    if (login.error && (login.error.email || login.error.password)) {\n      formRef.current.updateInputsWithError({ ...login.error\n      });\n      disableButton();\n    }\n  }, [login.error]);\n\n  function disableButton() {\n    setIsFormValid(false);\n  }\n\n  function enableButton() {\n    setIsFormValid(true);\n  }\n\n  function handleSubmit(model) {\n    dispatch(submitLogin(model));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Formsy, {\n    onValidSubmit: handleSubmit,\n    onValid: enableButton,\n    onInvalid: disableButton,\n    ref: formRef,\n    className: \"flex flex-col justify-center w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(TextFieldFormsy, {\n    className: \"mb-16\",\n    type: \"text\",\n    name: \"email\",\n    label: \"Username/Email\",\n    value: \"admin\",\n    validations: {\n      minLength: 4\n    },\n    validationErrors: {\n      minLength: 'La longitud mínima de caracteres es 4'\n    },\n    InputProps: {\n      endAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        className: \"text-20\",\n        color: \"action\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 9\n        }\n      }, \"email\"))\n    },\n    variant: \"outlined\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(TextFieldFormsy, {\n    className: \"mb-16\",\n    type: \"password\",\n    name: \"password\",\n    label: \"Password\",\n    value: \"admin\",\n    validations: {\n      minLength: 4\n    },\n    validationErrors: {\n      minLength: 'La longitud mínima de caracteres es 4'\n    },\n    InputProps: {\n      className: 'pr-2',\n      type: showPassword ? 'text' : 'password',\n      endAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        onClick: () => setShowPassword(!showPassword),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        className: \"text-20\",\n        color: \"action\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 10\n        }\n      }, showPassword ? 'visibility' : 'visibility_off')))\n    },\n    variant: \"outlined\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"primary\",\n    className: \"w-full mx-auto mt-16 normal-case\",\n    \"aria-label\": \"LOG IN\",\n    disabled: !isFormValid,\n    value: \"legacy\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }\n  }, \"Iniciar Sesi\\xF3n\")));\n}\n\nexport default JWTLoginTab;","map":{"version":3,"sources":["D:/proyectos_react/Proyecto_sena_desarrollo/src/app/main/login/tabs/JWTLoginTab.js"],"names":["TextFieldFormsy","Button","Icon","IconButton","InputAdornment","Formsy","React","useEffect","useRef","useState","useDispatch","useSelector","submitLogin","JWTLoginTab","props","dispatch","login","auth","isFormValid","setIsFormValid","showPassword","setShowPassword","formRef","error","email","password","current","updateInputsWithError","disableButton","enableButton","handleSubmit","model","minLength","endAdornment","className","type"],"mappings":"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","sourcesContent":["import { TextFieldFormsy } from '@fuse/core/formsy';\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputAdornment from '@material-ui/core/InputAdornment';\n//import Typography from '@material-ui/core/Typography';\nimport Formsy from 'formsy-react';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { submitLogin } from 'app/auth/store/loginSlice';\n\nfunction JWTLoginTab(props) {\n\tconst dispatch = useDispatch();\n\tconst login = useSelector(({ auth }) => auth.login);\n\n\tconst [isFormValid, setIsFormValid] = useState(false);\n\tconst [showPassword, setShowPassword] = useState(false);\n\n\tconst formRef = useRef(null);\n\n\tuseEffect(() => {\n\t\tif (login.error && (login.error.email || login.error.password)) {\n\t\t\tformRef.current.updateInputsWithError({\n\t\t\t\t...login.error\n\t\t\t});\n\t\t\tdisableButton();\n\t\t}\n\t}, [login.error]);\n\n\tfunction disableButton() {\n\t\tsetIsFormValid(false);\n\t}\n\n\tfunction enableButton() {\n\t\tsetIsFormValid(true);\n\t}\n\n\tfunction handleSubmit(model) {\n\t\tdispatch(submitLogin(model));\n\t}\n\n\treturn (\n\t\t<div className=\"w-full\">\n\t\t\t<Formsy\n\t\t\t\tonValidSubmit={handleSubmit}\n\t\t\t\tonValid={enableButton}\n\t\t\t\tonInvalid={disableButton}\n\t\t\t\tref={formRef}\n\t\t\t\tclassName=\"flex flex-col justify-center w-full\"\n\t\t\t>\n\t\t\t\t<TextFieldFormsy\n\t\t\t\t\tclassName=\"mb-16\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"email\"\n\t\t\t\t\tlabel=\"Username/Email\"\n\t\t\t\t\tvalue=\"admin\"\n\t\t\t\t\tvalidations={{\n\t\t\t\t\t\tminLength: 4\n\t\t\t\t\t}}\n\t\t\t\t\tvalidationErrors={{\n\t\t\t\t\t\tminLength: 'La longitud mínima de caracteres es 4'\n\t\t\t\t\t}}\n\t\t\t\t\tInputProps={{\n\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t<Icon className=\"text-20\" color=\"action\">\n\t\t\t\t\t\t\t\t\temail\n\t\t\t\t\t\t\t\t</Icon>\n\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\trequired\n\t\t\t\t/>\n\n\t\t\t\t<TextFieldFormsy\n\t\t\t\t\tclassName=\"mb-16\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\tvalue=\"admin\"\n\t\t\t\t\tvalidations={{\n\t\t\t\t\t\tminLength: 4\n\t\t\t\t\t}}\n\t\t\t\t\tvalidationErrors={{\n\t\t\t\t\t\tminLength: 'La longitud mínima de caracteres es 4'\n\t\t\t\t\t}}\n\t\t\t\t\tInputProps={{\n\t\t\t\t\t\tclassName: 'pr-2',\n\t\t\t\t\t\ttype: showPassword ? 'text' : 'password',\n\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t<IconButton onClick={() => setShowPassword(!showPassword)}>\n\t\t\t\t\t\t\t\t\t<Icon className=\"text-20\" color=\"action\">\n\t\t\t\t\t\t\t\t\t\t{showPassword ? 'visibility' : 'visibility_off'}\n\t\t\t\t\t\t\t\t\t</Icon>\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\trequired\n\t\t\t\t/>\n\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tclassName=\"w-full mx-auto mt-16 normal-case\"\n\t\t\t\t\taria-label=\"LOG IN\"\n\t\t\t\t\tdisabled={!isFormValid}\n\t\t\t\t\tvalue=\"legacy\"\n\t\t\t\t>\n\t\t\t\t\tIniciar Sesión\n\t\t\t\t</Button>\n\t\t\t</Formsy>\n\t\t</div>\n\t);\n}\n\nexport default JWTLoginTab;\n"]},"metadata":{},"sourceType":"module"}