{"ast":null,"code":"import _slicedToArray from\"D:\\\\proyectos_react\\\\Proyecto_sena_desarrollo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import FuseAnimate from'@fuse/core/FuseAnimate';import FuseUtils from'@fuse/utils';import Avatar from'@material-ui/core/Avatar';import Icon from'@material-ui/core/Icon';import IconButton from'@material-ui/core/IconButton';import Typography from'@material-ui/core/Typography';import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import ContactsMultiSelectMenu from'./ContactsMultiSelectMenu';import ContactsTable from'./ContactsTable';import{openEditContactDialog,removeContact,toggleStarredContact,selectContacts}from'./store/contactsSlice';function ContactsList(props){var dispatch=useDispatch();var contacts=useSelector(selectContacts);var searchText=useSelector(function(_ref){var contactsApp=_ref.contactsApp;return contactsApp.contacts.searchText;});var user=useSelector(function(_ref2){var contactsApp=_ref2.contactsApp;return contactsApp.user;});var _useState=useState(null),_useState2=_slicedToArray(_useState,2),filteredData=_useState2[0],setFilteredData=_useState2[1];var columns=React.useMemo(function(){return[{Header:function Header(_ref3){var selectedFlatRows=_ref3.selectedFlatRows;var selectedRowIds=selectedFlatRows.map(function(row){return row.original.id;});return selectedFlatRows.length>0&&/*#__PURE__*/React.createElement(ContactsMultiSelectMenu,{selectedContactIds:selectedRowIds});},accessor:'avatar',Cell:function Cell(_ref4){var row=_ref4.row;return/*#__PURE__*/React.createElement(Avatar,{className:\"mx-8\",alt:row.original.name,src:row.original.avatar});},className:'justify-center',width:64,sortable:false},{Header:'Tipo Doc',accessor:'tipodoc',sortable:true},{Header:'NÃºmero Documento',accessor:'NumDocumento',sortable:true},{Header:'Nombres ',accessor:'name',className:'font-bold',sortable:true},{Header:'Apellidos',accessor:'lastName',className:'font-bold',sortable:true},{Header:'Correo Electronico',accessor:'email',sortable:true},{Header:'Telefono',accessor:'phone',sortable:true},{id:'action',width:128,sortable:false,Cell:function Cell(_ref5){var row=_ref5.row;return/*#__PURE__*/React.createElement(\"div\",{className:\"flex items-center\"},/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(ev){ev.stopPropagation();dispatch(toggleStarredContact(row.original.id));}},user.starred&&user.starred.includes(row.original.id)?/*#__PURE__*/React.createElement(Icon,null,\"star\"):/*#__PURE__*/React.createElement(Icon,null,\"star_border\")),/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(ev){ev.stopPropagation();dispatch(removeContact(row.original.id));}},/*#__PURE__*/React.createElement(Icon,null,\"delete\")));}}];},[dispatch,user.starred]);useEffect(function(){function getFilteredArray(entities,_searchText){if(_searchText.length===0){return contacts;}return FuseUtils.filterArrayByString(contacts,_searchText);}if(contacts){setFilteredData(getFilteredArray(contacts,searchText));}},[contacts,searchText]);if(!filteredData){return null;}if(filteredData.length===0){return/*#__PURE__*/React.createElement(\"div\",{className:\"flex flex-1 items-center justify-center h-full\"},/*#__PURE__*/React.createElement(Typography,{color:\"textSecondary\",variant:\"h5\"},\"There are no contacts!\"));}return/*#__PURE__*/React.createElement(FuseAnimate,{animation:\"transition.slideUpIn\",delay:300},/*#__PURE__*/React.createElement(ContactsTable,{columns:columns,data:filteredData,onRowClick:function onRowClick(ev,row){if(row){dispatch(openEditContactDialog(row.original));}}}));}export default ContactsList;","map":null,"metadata":{},"sourceType":"module"}