{"ast":null,"code":"var _jsxFileName = \"D:\\\\proyectos_react\\\\Proyecto_sena_old\\\\src\\\\@fuse\\\\core\\\\FuseSearch\\\\FuseSearch.js\";\nimport FuseUtils from '@fuse/utils';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Icon from '@material-ui/core/Icon';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport match from 'autosuggest-highlight/match';\nimport parse from 'autosuggest-highlight/parse';\nimport clsx from 'clsx';\nimport _ from '@lodash';\nimport React, { useEffect, useReducer, useRef } from 'react';\nimport Autosuggest from 'react-autosuggest';\nimport { useSelector } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { selectNavigation } from 'app/store/fuse/navigationSlice';\n\nfunction renderInputComponent(inputProps) {\n  const {\n    variant,\n    classes,\n    inputRef = () => {},\n    ref,\n    ...other\n  } = inputProps;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 3\n    }\n  }, variant === 'basic' ?\n  /*#__PURE__*/\n  // Outlined\n  React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TextField, Object.assign({\n    fullWidth: true,\n    InputProps: {\n      inputRef: node => {\n        ref(node);\n        inputRef(node);\n      },\n      classes: {\n        input: clsx(classes.input, 'py-0 px-16 h-40 md:h-48 ltr:pr-48 rtl:pl-48'),\n        notchedOutline: 'rounded-8'\n      }\n    },\n    variant: \"outlined\"\n  }, other, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(Icon, {\n    className: \"absolute top-0 ltr:right-0 rtl:left-0 h-40 md:h-48 w-48 p-12 pointer-events-none\",\n    color: \"action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 6\n    }\n  }, \"search\")) :\n  /*#__PURE__*/\n  // Standard\n  React.createElement(TextField, Object.assign({\n    fullWidth: true,\n    InputProps: {\n      disableUnderline: true,\n      inputRef: node => {\n        ref(node);\n        inputRef(node);\n      },\n      classes: {\n        input: clsx(classes.input, 'py-0 px-16 h-48 md:h-64')\n      }\n    },\n    variant: \"standard\"\n  }, other, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  })));\n}\n\nfunction renderSuggestion(suggestion, {\n  query,\n  isHighlighted\n}) {\n  const matches = match(suggestion.title, query);\n  const parts = parse(suggestion.title, matches);\n  return /*#__PURE__*/React.createElement(MenuItem, {\n    selected: isHighlighted,\n    component: \"div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    className: \"min-w-40\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 4\n    }\n  }, suggestion.icon ? /*#__PURE__*/React.createElement(Icon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 6\n    }\n  }, suggestion.icon) : /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-20 w-24 font-bold uppercase text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 6\n    }\n  }, suggestion.title[0])), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: parts.map((part, index) => part.highlight ? /*#__PURE__*/React.createElement(\"span\", {\n      key: String(index),\n      style: {\n        fontWeight: 600\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }\n    }, part.text) : /*#__PURE__*/React.createElement(\"strong\", {\n      key: String(index),\n      style: {\n        fontWeight: 300\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }, part.text)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 4\n    }\n  }));\n}\n\nfunction getSuggestions(value, data) {\n  const inputValue = _.deburr(value.trim()).toLowerCase();\n\n  const inputLength = inputValue.length;\n  let count = 0;\n  return inputLength === 0 ? [] : data.filter(suggestion => {\n    const keep = count < 10 && match(suggestion.title, inputValue).length > 0;\n\n    if (keep) {\n      count += 1;\n    }\n\n    return keep;\n  });\n}\n\nfunction getSuggestionValue(suggestion) {\n  return suggestion.title;\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {},\n  container: {\n    position: 'relative'\n  },\n  suggestionsContainerOpen: {\n    position: 'absolute',\n    zIndex: 1,\n    marginTop: theme.spacing(),\n    left: 0,\n    right: 0\n  },\n  suggestion: {\n    display: 'block'\n  },\n  suggestionsList: {\n    margin: 0,\n    padding: 0,\n    listStyleType: 'none'\n  },\n  input: {\n    transition: theme.transitions.create(['background-color'], {\n      easing: theme.transitions.easing.easeInOut,\n      duration: theme.transitions.duration.short\n    }),\n    '&:focus': {\n      backgroundColor: theme.palette.background.paper\n    }\n  }\n}));\nconst initialState = {\n  searchText: '',\n  search: false,\n  navigation: null,\n  suggestions: [],\n  noSuggestions: false\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'open':\n      {\n        return { ...state,\n          opened: true\n        };\n      }\n\n    case 'close':\n      {\n        return { ...state,\n          opened: false,\n          searchText: ''\n        };\n      }\n\n    case 'setSearchText':\n      {\n        return { ...state,\n          searchText: action.value\n        };\n      }\n\n    case 'setNavigation':\n      {\n        return { ...state,\n          navigation: action.value\n        };\n      }\n\n    case 'updateSuggestions':\n      {\n        const suggestions = getSuggestions(action.value, state.navigation);\n        const isInputBlank = action.value.trim() === '';\n        const noSuggestions = !isInputBlank && suggestions.length === 0;\n        return { ...state,\n          suggestions,\n          noSuggestions\n        };\n      }\n\n    case 'clearSuggestions':\n      {\n        return { ...state,\n          suggestions: [],\n          noSuggestions: false\n        };\n      }\n\n    case 'decrement':\n      {\n        return {\n          count: state.count - 1\n        };\n      }\n\n    default:\n      {\n        throw new Error();\n      }\n  }\n}\n\nfunction FuseSearch(props) {\n  const userRole = useSelector(({\n    auth\n  }) => auth.user.role);\n  const navigation = useSelector(selectNavigation);\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const classes = useStyles(props);\n  const suggestionsNode = useRef(null);\n  const popperNode = useRef(null);\n  useEffect(() => {\n    function itemAuthAllowed(item) {\n      return FuseUtils.hasPermission(item.auth, userRole);\n    }\n\n    function setNavigation() {\n      dispatch({\n        type: 'setNavigation',\n        value: FuseUtils.getFlatNavigation(navigation).filter(item => itemAuthAllowed(item))\n      });\n    }\n\n    setNavigation();\n  }, [userRole, navigation]);\n\n  function showSearch() {\n    dispatch({\n      type: 'open'\n    });\n    document.addEventListener('keydown', escFunction, false);\n  }\n\n  function hideSearch() {\n    dispatch({\n      type: 'close'\n    });\n    document.removeEventListener('keydown', escFunction, false);\n  }\n\n  function escFunction(event) {\n    if (event.keyCode === 27) {\n      hideSearch();\n    }\n  }\n\n  function handleSuggestionsFetchRequested({\n    value\n  }) {\n    dispatch({\n      type: 'updateSuggestions',\n      value\n    });\n  }\n\n  function handleSuggestionSelected(event, {\n    suggestion\n  }) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (!suggestion.url) {\n      return;\n    }\n\n    props.history.push(suggestion.url);\n    hideSearch();\n  }\n\n  function handleSuggestionsClearRequested() {\n    dispatch({\n      type: 'clearSuggestions'\n    });\n  }\n\n  function handleChange(event) {\n    dispatch({\n      type: 'setSearchText',\n      value: event.target.value\n    });\n  }\n\n  function handleClickAway(event) {\n    return (!suggestionsNode.current || !suggestionsNode.current.contains(event.target)) && hideSearch();\n  }\n\n  const autosuggestProps = {\n    renderInputComponent,\n    highlightFirstSuggestion: true,\n    suggestions: state.suggestions,\n    onSuggestionsFetchRequested: handleSuggestionsFetchRequested,\n    onSuggestionsClearRequested: handleSuggestionsClearRequested,\n    onSuggestionSelected: handleSuggestionSelected,\n    getSuggestionValue,\n    renderSuggestion\n  };\n\n  switch (props.variant) {\n    case 'basic':\n      {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: clsx('flex items-center w-full', props.className),\n          ref: popperNode,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 5\n          }\n        }, /*#__PURE__*/React.createElement(Autosuggest, Object.assign({}, autosuggestProps, {\n          inputProps: {\n            variant: props.variant,\n            classes,\n            placeholder: 'Search',\n            value: state.searchText,\n            onChange: handleChange,\n            onFocus: showSearch,\n            InputLabelProps: {\n              shrink: true\n            },\n            autoFocus: false\n          },\n          theme: {\n            container: 'flex flex-1 w-full',\n            suggestionsList: classes.suggestionsList,\n            suggestion: classes.suggestion\n          },\n          renderSuggestionsContainer: options => /*#__PURE__*/React.createElement(Popper, {\n            anchorEl: popperNode.current,\n            open: Boolean(options.children) || state.noSuggestions,\n            popperOptions: {\n              positionFixed: true\n            },\n            className: \"z-9999\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 8\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            ref: suggestionsNode,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 9\n            }\n          }, /*#__PURE__*/React.createElement(Paper, Object.assign({\n            elevation: 1,\n            square: true\n          }, options.containerProps, {\n            style: {\n              width: popperNode.current ? popperNode.current.clientWidth : null\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 10\n            }\n          }), options.children, state.noSuggestions && /*#__PURE__*/React.createElement(Typography, {\n            className: \"px-16 py-12\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 12\n            }\n          }, \"No results..\")))),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 6\n          }\n        })));\n      }\n\n    case 'full':\n      {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: clsx(classes.root, 'flex', props.className),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 5\n          }\n        }, /*#__PURE__*/React.createElement(Tooltip, {\n          title: \"Click to search\",\n          placement: \"bottom\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 6\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          onClick: showSearch,\n          onKeyDown: showSearch,\n          role: \"button\",\n          tabIndex: 0,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 7\n          }\n        }, props.trigger)), state.opened && /*#__PURE__*/React.createElement(ClickAwayListener, {\n          onClickAway: handleClickAway,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 7\n          }\n        }, /*#__PURE__*/React.createElement(Paper, {\n          className: \"absolute left-0 right-0 top-0 h-full z-9999\",\n          square: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 8\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"flex items-center w-full h-full\",\n          ref: popperNode,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Autosuggest, Object.assign({}, autosuggestProps, {\n          inputProps: {\n            classes,\n            placeholder: 'Search',\n            value: state.searchText,\n            onChange: handleChange,\n            InputLabelProps: {\n              shrink: true\n            },\n            autoFocus: true\n          },\n          theme: {\n            container: 'flex flex-1 w-full',\n            suggestionsList: classes.suggestionsList,\n            suggestion: classes.suggestion\n          },\n          renderSuggestionsContainer: options => /*#__PURE__*/React.createElement(Popper, {\n            anchorEl: popperNode.current,\n            open: Boolean(options.children) || state.noSuggestions,\n            popperOptions: {\n              positionFixed: true\n            },\n            className: \"z-9999\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 12\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            ref: suggestionsNode,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(Paper, Object.assign({\n            elevation: 1,\n            square: true\n          }, options.containerProps, {\n            style: {\n              width: popperNode.current ? popperNode.current.clientWidth : null\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 14\n            }\n          }), options.children, state.noSuggestions && /*#__PURE__*/React.createElement(Typography, {\n            className: \"px-16 py-12\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 16\n            }\n          }, \"No results..\")))),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 10\n          }\n        })), /*#__PURE__*/React.createElement(IconButton, {\n          onClick: hideSearch,\n          className: \"mx-8\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 10\n          }\n        }, /*#__PURE__*/React.createElement(Icon, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 11\n          }\n        }, \"close\"))))));\n      }\n\n    default:\n      {\n        return null;\n      }\n  }\n}\n\nFuseSearch.propTypes = {};\nFuseSearch.defaultProps = {\n  trigger: /*#__PURE__*/React.createElement(IconButton, {\n    className: \"w-40 h-40\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 4\n    }\n  }, \"search\")),\n  variant: 'full' // basic, full\n\n};\nexport default withRouter(React.memo(FuseSearch));","map":{"version":3,"sources":["D:/proyectos_react/Proyecto_sena_old/src/@fuse/core/FuseSearch/FuseSearch.js"],"names":["FuseUtils","ClickAwayListener","Icon","IconButton","ListItemIcon","ListItemText","MenuItem","Paper","Popper","makeStyles","TextField","Tooltip","Typography","match","parse","clsx","_","React","useEffect","useReducer","useRef","Autosuggest","useSelector","withRouter","selectNavigation","renderInputComponent","inputProps","variant","classes","inputRef","ref","other","node","input","notchedOutline","disableUnderline","renderSuggestion","suggestion","query","isHighlighted","matches","title","parts","icon","map","part","index","highlight","String","fontWeight","text","getSuggestions","value","data","inputValue","deburr","trim","toLowerCase","inputLength","length","count","filter","keep","getSuggestionValue","useStyles","theme","root","container","position","suggestionsContainerOpen","zIndex","marginTop","spacing","left","right","display","suggestionsList","margin","padding","listStyleType","transition","transitions","create","easing","easeInOut","duration","short","backgroundColor","palette","background","paper","initialState","searchText","search","navigation","suggestions","noSuggestions","reducer","state","action","type","opened","isInputBlank","Error","FuseSearch","props","userRole","auth","user","role","dispatch","suggestionsNode","popperNode","itemAuthAllowed","item","hasPermission","setNavigation","getFlatNavigation","showSearch","document","addEventListener","escFunction","hideSearch","removeEventListener","event","keyCode","handleSuggestionsFetchRequested","handleSuggestionSelected","preventDefault","stopPropagation","url","history","push","handleSuggestionsClearRequested","handleChange","target","handleClickAway","current","contains","autosuggestProps","highlightFirstSuggestion","onSuggestionsFetchRequested","onSuggestionsClearRequested","onSuggestionSelected","className","placeholder","onChange","onFocus","InputLabelProps","shrink","autoFocus","options","Boolean","children","positionFixed","containerProps","width","clientWidth","trigger","propTypes","defaultProps","memo"],"mappings":"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","sourcesContent":["import FuseUtils from '@fuse/utils';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Icon from '@material-ui/core/Icon';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport match from 'autosuggest-highlight/match';\nimport parse from 'autosuggest-highlight/parse';\nimport clsx from 'clsx';\nimport _ from '@lodash';\nimport React, { useEffect, useReducer, useRef } from 'react';\nimport Autosuggest from 'react-autosuggest';\nimport { useSelector } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { selectNavigation } from 'app/store/fuse/navigationSlice';\n\nfunction renderInputComponent(inputProps) {\n\tconst { variant, classes, inputRef = () => {}, ref, ...other } = inputProps;\n\treturn (\n\t\t<div className=\"w-full relative\">\n\t\t\t{variant === 'basic' ? (\n\t\t\t\t// Outlined\n\t\t\t\t<>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tinputRef: node => {\n\t\t\t\t\t\t\t\tref(node);\n\t\t\t\t\t\t\t\tinputRef(node);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tclasses: {\n\t\t\t\t\t\t\t\tinput: clsx(classes.input, 'py-0 px-16 h-40 md:h-48 ltr:pr-48 rtl:pl-48'),\n\t\t\t\t\t\t\t\tnotchedOutline: 'rounded-8'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t{...other}\n\t\t\t\t\t/>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\tclassName=\"absolute top-0 ltr:right-0 rtl:left-0 h-40 md:h-48 w-48 p-12 pointer-events-none\"\n\t\t\t\t\t\tcolor=\"action\"\n\t\t\t\t\t>\n\t\t\t\t\t\tsearch\n\t\t\t\t\t</Icon>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t// Standard\n\t\t\t\t<TextField\n\t\t\t\t\tfullWidth\n\t\t\t\t\tInputProps={{\n\t\t\t\t\t\tdisableUnderline: true,\n\t\t\t\t\t\tinputRef: node => {\n\t\t\t\t\t\t\tref(node);\n\t\t\t\t\t\t\tinputRef(node);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclasses: {\n\t\t\t\t\t\t\tinput: clsx(classes.input, 'py-0 px-16 h-48 md:h-64')\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tvariant=\"standard\"\n\t\t\t\t\t{...other}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nfunction renderSuggestion(suggestion, { query, isHighlighted }) {\n\tconst matches = match(suggestion.title, query);\n\tconst parts = parse(suggestion.title, matches);\n\n\treturn (\n\t\t<MenuItem selected={isHighlighted} component=\"div\">\n\t\t\t<ListItemIcon className=\"min-w-40\">\n\t\t\t\t{suggestion.icon ? (\n\t\t\t\t\t<Icon>{suggestion.icon}</Icon>\n\t\t\t\t) : (\n\t\t\t\t\t<span className=\"text-20 w-24 font-bold uppercase text-center\">{suggestion.title[0]}</span>\n\t\t\t\t)}\n\t\t\t</ListItemIcon>\n\t\t\t<ListItemText\n\t\t\t\tprimary={parts.map((part, index) =>\n\t\t\t\t\tpart.highlight ? (\n\t\t\t\t\t\t<span key={String(index)} style={{ fontWeight: 600 }}>\n\t\t\t\t\t\t\t{part.text}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<strong key={String(index)} style={{ fontWeight: 300 }}>\n\t\t\t\t\t\t\t{part.text}\n\t\t\t\t\t\t</strong>\n\t\t\t\t\t)\n\t\t\t\t)}\n\t\t\t/>\n\t\t</MenuItem>\n\t);\n}\n\nfunction getSuggestions(value, data) {\n\tconst inputValue = _.deburr(value.trim()).toLowerCase();\n\tconst inputLength = inputValue.length;\n\tlet count = 0;\n\n\treturn inputLength === 0\n\t\t? []\n\t\t: data.filter(suggestion => {\n\t\t\t\tconst keep = count < 10 && match(suggestion.title, inputValue).length > 0;\n\n\t\t\t\tif (keep) {\n\t\t\t\t\tcount += 1;\n\t\t\t\t}\n\n\t\t\t\treturn keep;\n\t\t  });\n}\n\nfunction getSuggestionValue(suggestion) {\n\treturn suggestion.title;\n}\n\nconst useStyles = makeStyles(theme => ({\n\troot: {},\n\tcontainer: {\n\t\tposition: 'relative'\n\t},\n\tsuggestionsContainerOpen: {\n\t\tposition: 'absolute',\n\t\tzIndex: 1,\n\t\tmarginTop: theme.spacing(),\n\t\tleft: 0,\n\t\tright: 0\n\t},\n\tsuggestion: {\n\t\tdisplay: 'block'\n\t},\n\tsuggestionsList: {\n\t\tmargin: 0,\n\t\tpadding: 0,\n\t\tlistStyleType: 'none'\n\t},\n\tinput: {\n\t\ttransition: theme.transitions.create(['background-color'], {\n\t\t\teasing: theme.transitions.easing.easeInOut,\n\t\t\tduration: theme.transitions.duration.short\n\t\t}),\n\t\t'&:focus': {\n\t\t\tbackgroundColor: theme.palette.background.paper\n\t\t}\n\t}\n}));\n\nconst initialState = {\n\tsearchText: '',\n\tsearch: false,\n\tnavigation: null,\n\tsuggestions: [],\n\tnoSuggestions: false\n};\n\nfunction reducer(state, action) {\n\tswitch (action.type) {\n\t\tcase 'open': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topened: true\n\t\t\t};\n\t\t}\n\t\tcase 'close': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topened: false,\n\t\t\t\tsearchText: ''\n\t\t\t};\n\t\t}\n\t\tcase 'setSearchText': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsearchText: action.value\n\t\t\t};\n\t\t}\n\t\tcase 'setNavigation': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tnavigation: action.value\n\t\t\t};\n\t\t}\n\t\tcase 'updateSuggestions': {\n\t\t\tconst suggestions = getSuggestions(action.value, state.navigation);\n\t\t\tconst isInputBlank = action.value.trim() === '';\n\t\t\tconst noSuggestions = !isInputBlank && suggestions.length === 0;\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsuggestions,\n\t\t\t\tnoSuggestions\n\t\t\t};\n\t\t}\n\t\tcase 'clearSuggestions': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsuggestions: [],\n\t\t\t\tnoSuggestions: false\n\t\t\t};\n\t\t}\n\t\tcase 'decrement': {\n\t\t\treturn { count: state.count - 1 };\n\t\t}\n\t\tdefault: {\n\t\t\tthrow new Error();\n\t\t}\n\t}\n}\n\nfunction FuseSearch(props) {\n\tconst userRole = useSelector(({ auth }) => auth.user.role);\n\tconst navigation = useSelector(selectNavigation);\n\n\tconst [state, dispatch] = useReducer(reducer, initialState);\n\tconst classes = useStyles(props);\n\tconst suggestionsNode = useRef(null);\n\tconst popperNode = useRef(null);\n\n\tuseEffect(() => {\n\t\tfunction itemAuthAllowed(item) {\n\t\t\treturn FuseUtils.hasPermission(item.auth, userRole);\n\t\t}\n\n\t\tfunction setNavigation() {\n\t\t\tdispatch({\n\t\t\t\ttype: 'setNavigation',\n\t\t\t\tvalue: FuseUtils.getFlatNavigation(navigation).filter(item => itemAuthAllowed(item))\n\t\t\t});\n\t\t}\n\n\t\tsetNavigation();\n\t}, [userRole, navigation]);\n\n\tfunction showSearch() {\n\t\tdispatch({ type: 'open' });\n\t\tdocument.addEventListener('keydown', escFunction, false);\n\t}\n\n\tfunction hideSearch() {\n\t\tdispatch({ type: 'close' });\n\t\tdocument.removeEventListener('keydown', escFunction, false);\n\t}\n\n\tfunction escFunction(event) {\n\t\tif (event.keyCode === 27) {\n\t\t\thideSearch();\n\t\t}\n\t}\n\n\tfunction handleSuggestionsFetchRequested({ value }) {\n\t\tdispatch({\n\t\t\ttype: 'updateSuggestions',\n\t\t\tvalue\n\t\t});\n\t}\n\n\tfunction handleSuggestionSelected(event, { suggestion }) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tif (!suggestion.url) {\n\t\t\treturn;\n\t\t}\n\t\tprops.history.push(suggestion.url);\n\t\thideSearch();\n\t}\n\n\tfunction handleSuggestionsClearRequested() {\n\t\tdispatch({\n\t\t\ttype: 'clearSuggestions'\n\t\t});\n\t}\n\n\tfunction handleChange(event) {\n\t\tdispatch({\n\t\t\ttype: 'setSearchText',\n\t\t\tvalue: event.target.value\n\t\t});\n\t}\n\n\tfunction handleClickAway(event) {\n\t\treturn (!suggestionsNode.current || !suggestionsNode.current.contains(event.target)) && hideSearch();\n\t}\n\n\tconst autosuggestProps = {\n\t\trenderInputComponent,\n\t\thighlightFirstSuggestion: true,\n\t\tsuggestions: state.suggestions,\n\t\tonSuggestionsFetchRequested: handleSuggestionsFetchRequested,\n\t\tonSuggestionsClearRequested: handleSuggestionsClearRequested,\n\t\tonSuggestionSelected: handleSuggestionSelected,\n\t\tgetSuggestionValue,\n\t\trenderSuggestion\n\t};\n\n\tswitch (props.variant) {\n\t\tcase 'basic': {\n\t\t\treturn (\n\t\t\t\t<div className={clsx('flex items-center w-full', props.className)} ref={popperNode}>\n\t\t\t\t\t<Autosuggest\n\t\t\t\t\t\t{...autosuggestProps}\n\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\tvariant: props.variant,\n\t\t\t\t\t\t\tclasses,\n\t\t\t\t\t\t\tplaceholder: 'Search',\n\t\t\t\t\t\t\tvalue: state.searchText,\n\t\t\t\t\t\t\tonChange: handleChange,\n\t\t\t\t\t\t\tonFocus: showSearch,\n\t\t\t\t\t\t\tInputLabelProps: {\n\t\t\t\t\t\t\t\tshrink: true\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tautoFocus: false\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttheme={{\n\t\t\t\t\t\t\tcontainer: 'flex flex-1 w-full',\n\t\t\t\t\t\t\tsuggestionsList: classes.suggestionsList,\n\t\t\t\t\t\t\tsuggestion: classes.suggestion\n\t\t\t\t\t\t}}\n\t\t\t\t\t\trenderSuggestionsContainer={options => (\n\t\t\t\t\t\t\t<Popper\n\t\t\t\t\t\t\t\tanchorEl={popperNode.current}\n\t\t\t\t\t\t\t\topen={Boolean(options.children) || state.noSuggestions}\n\t\t\t\t\t\t\t\tpopperOptions={{ positionFixed: true }}\n\t\t\t\t\t\t\t\tclassName=\"z-9999\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div ref={suggestionsNode}>\n\t\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\t\televation={1}\n\t\t\t\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\t\t\t\t{...options.containerProps}\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: popperNode.current ? popperNode.current.clientWidth : null }}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{options.children}\n\t\t\t\t\t\t\t\t\t\t{state.noSuggestions && (\n\t\t\t\t\t\t\t\t\t\t\t<Typography className=\"px-16 py-12\">No results..</Typography>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Popper>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tcase 'full': {\n\t\t\treturn (\n\t\t\t\t<div className={clsx(classes.root, 'flex', props.className)}>\n\t\t\t\t\t<Tooltip title=\"Click to search\" placement=\"bottom\">\n\t\t\t\t\t\t<div onClick={showSearch} onKeyDown={showSearch} role=\"button\" tabIndex={0}>\n\t\t\t\t\t\t\t{props.trigger}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t{state.opened && (\n\t\t\t\t\t\t<ClickAwayListener onClickAway={handleClickAway}>\n\t\t\t\t\t\t\t<Paper className=\"absolute left-0 right-0 top-0 h-full z-9999\" square>\n\t\t\t\t\t\t\t\t<div className=\"flex items-center w-full h-full\" ref={popperNode}>\n\t\t\t\t\t\t\t\t\t<Autosuggest\n\t\t\t\t\t\t\t\t\t\t{...autosuggestProps}\n\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\tclasses,\n\t\t\t\t\t\t\t\t\t\t\tplaceholder: 'Search',\n\t\t\t\t\t\t\t\t\t\t\tvalue: state.searchText,\n\t\t\t\t\t\t\t\t\t\t\tonChange: handleChange,\n\t\t\t\t\t\t\t\t\t\t\tInputLabelProps: {\n\t\t\t\t\t\t\t\t\t\t\t\tshrink: true\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tautoFocus: true\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\ttheme={{\n\t\t\t\t\t\t\t\t\t\t\tcontainer: 'flex flex-1 w-full',\n\t\t\t\t\t\t\t\t\t\t\tsuggestionsList: classes.suggestionsList,\n\t\t\t\t\t\t\t\t\t\t\tsuggestion: classes.suggestion\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\trenderSuggestionsContainer={options => (\n\t\t\t\t\t\t\t\t\t\t\t<Popper\n\t\t\t\t\t\t\t\t\t\t\t\tanchorEl={popperNode.current}\n\t\t\t\t\t\t\t\t\t\t\t\topen={Boolean(options.children) || state.noSuggestions}\n\t\t\t\t\t\t\t\t\t\t\t\tpopperOptions={{ positionFixed: true }}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"z-9999\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<div ref={suggestionsNode}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\t\t\t\t\t\televation={1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...options.containerProps}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: popperNode.current\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? popperNode.current.clientWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{options.children}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{state.noSuggestions && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography className=\"px-16 py-12\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo results..\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</Popper>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<IconButton onClick={hideSearch} className=\"mx-8\">\n\t\t\t\t\t\t\t\t\t\t<Icon>close</Icon>\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</ClickAwayListener>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tdefault: {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n\nFuseSearch.propTypes = {};\nFuseSearch.defaultProps = {\n\ttrigger: (\n\t\t<IconButton className=\"w-40 h-40\">\n\t\t\t<Icon>search</Icon>\n\t\t</IconButton>\n\t),\n\tvariant: 'full' // basic, full\n};\n\nexport default withRouter(React.memo(FuseSearch));\n"]},"metadata":{},"sourceType":"module"}