{"ast":null,"code":"import FuseUtils from '@fuse/utils';\nimport _ from '@lodash';\nimport mock from '../mock';\nconst chatDb = {\n  contacts: [{\n    id: '5725a680b3249760ea21de52',\n    name: 'Alice Freeman',\n    avatar: 'assets/images/avatars/alice.jpg',\n    status: 'online',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...',\n    unread: '2'\n  }, {\n    id: '5725a680606588342058356d',\n    name: 'Arnold',\n    avatar: 'assets/images/avatars/Arnold.jpg',\n    status: 'do-not-disturb',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...',\n    unread: '3'\n  }, {\n    id: '5725a68009e20d0a9e9acf2a',\n    name: 'Barrera',\n    avatar: 'assets/images/avatars/Barrera.jpg',\n    status: 'do-not-disturb',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...',\n    unread: '1'\n  }, {\n    id: '5725a6809fdd915739187ed5',\n    name: 'Blair',\n    avatar: 'assets/images/avatars/Blair.jpg',\n    status: 'offline',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n  }, {\n    id: '5725a68007920cf75051da64',\n    name: 'Boyle',\n    avatar: 'assets/images/avatars/Boyle.jpg',\n    status: 'offline',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n  }, {\n    id: '5725a68031fdbb1db2c1af47',\n    name: 'Christy',\n    avatar: 'assets/images/avatars/Christy.jpg',\n    status: 'offline',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n  }, {\n    id: '5725a680bc670af746c435e2',\n    name: 'Copeland',\n    avatar: 'assets/images/avatars/Copeland.jpg',\n    status: 'online',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n  }, {\n    id: '5725a680e7eb988a58ddf303',\n    name: 'Estes',\n    avatar: 'assets/images/avatars/Estes.jpg',\n    status: 'away',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n  }, {\n    id: '5725a680dcb077889f758961',\n    name: 'Harper',\n    avatar: 'assets/images/avatars/Harper.jpg',\n    status: 'offline',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n  }, {\n    id: '5725a6806acf030f9341e925',\n    name: 'Helen',\n    avatar: 'assets/images/avatars/Helen.jpg',\n    status: 'away',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n  }, {\n    id: '5725a680ae1ae9a3c960d487',\n    name: 'Henderson',\n    avatar: 'assets/images/avatars/Henderson.jpg',\n    status: 'offline',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n  }, {\n    id: '5725a680b8d240c011dd224b',\n    name: 'Josefina',\n    avatar: 'assets/images/avatars/Josefina.jpg',\n    status: 'online',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n  }, {\n    id: '5725a68034cb3968e1f79eac',\n    name: 'Katina',\n    avatar: 'assets/images/avatars/Katina.jpg',\n    status: 'away',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n  }, {\n    id: '5725a6801146cce777df2a08',\n    name: 'Lily',\n    avatar: 'assets/images/avatars/Lily.jpg',\n    status: 'do-not-disturb',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n  }, {\n    id: '5725a6808a178bfd034d6ecf',\n    name: 'Mai',\n    avatar: 'assets/images/avatars/Mai.jpg',\n    status: 'away',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n  }, {\n    id: '5725a680653c265f5c79b5a9',\n    name: 'Nancy',\n    avatar: 'assets/images/avatars/Nancy.jpg',\n    status: 'do-not-disturb',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n  }, {\n    id: '5725a680bbcec3cc32a8488a',\n    name: 'Nora',\n    avatar: 'assets/images/avatars/Nora.jpg',\n    status: 'do-not-disturb',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n  }, {\n    id: '5725a6803d87f1b77e17b62b',\n    name: 'Odessa',\n    avatar: 'assets/images/avatars/Odessa.jpg',\n    status: 'away',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n  }, {\n    id: '5725a680e87cb319bd9bd673',\n    name: 'Reyna',\n    avatar: 'assets/images/avatars/Reyna.jpg',\n    status: 'offline',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n  }, {\n    id: '5725a6802d10e277a0f35775',\n    name: 'Shauna',\n    avatar: 'assets/images/avatars/Shauna.jpg',\n    status: 'online',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n  }, {\n    id: '5725a680aef1e5cf26dd3d1f',\n    name: 'Shepard',\n    avatar: 'assets/images/avatars/Shepard.jpg',\n    status: 'online',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n  }, {\n    id: '5725a680cd7efa56a45aea5d',\n    name: 'Tillman',\n    avatar: 'assets/images/avatars/Tillman.jpg',\n    status: 'do-not-disturb',\n    mood: ''\n  }, {\n    id: '5725a680fb65c91a82cb35e2',\n    name: 'Trevino',\n    avatar: 'assets/images/avatars/Trevino.jpg',\n    status: 'away',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n  }, {\n    id: '5725a68018c663044be49cbf',\n    name: 'Tyson',\n    avatar: 'assets/images/avatars/Tyson.jpg',\n    status: 'do-not-disturb',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n  }, {\n    id: '5725a6809413bf8a0a5272b1',\n    name: 'Velazquez',\n    avatar: 'assets/images/avatars/Velazquez.jpg',\n    status: 'online',\n    mood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n  }],\n  chats: [{\n    id: '1725a680b3249760ea21de52',\n    dialog: [{\n      who: '5725a680b3249760ea21de52',\n      message: 'Quickly come to the meeting room 1B, we have a big server issue',\n      time: '2017-03-22T08:54:28.299Z'\n    }, {\n      who: '5725a6802d10e277a0f35724',\n      message: 'I’m having breakfast right now, can’t you wait for 10 minutes?',\n      time: '2017-03-22T08:55:28.299Z'\n    }, {\n      who: '5725a6802d10e277a0f35724',\n      message: 'I’m having breakfast right now, can’t you wait for 10 minutes?',\n      time: '2017-03-22T08:56:28.299Z'\n    }, {\n      who: '5725a680b3249760ea21de52',\n      message: 'We are losing money! Quick!',\n      time: '2017-03-22T09:00:28.299Z'\n    }, {\n      who: '5725a6802d10e277a0f35724',\n      message: 'It’s not my money, you know. I will eat my breakfast and then I will come to the meeting room.',\n      time: '2017-03-22T09:02:28.299Z'\n    }, {\n      who: '5725a680b3249760ea21de52',\n      message: 'You are the worst!',\n      time: '2017-03-22T09:05:28.299Z'\n    }, {\n      who: '5725a680b3249760ea21de52',\n      message: 'We are losing money! Quick!',\n      time: '2017-03-22T09:14:28.299Z'\n    }, {\n      who: '5725a680b3249760ea21de52',\n      message: 'You are the worst!',\n      time: '2017-03-22T09:16:28.299Z'\n    }, {\n      who: '5725a680b3249760ea21de52',\n      message: 'We are losing money! Quick!',\n      time: '2017-03-22T09:17:28.299Z'\n    }, {\n      who: '5725a6802d10e277a0f35724',\n      message: 'It’s not my money, you know. I will eat my breakfast and then I will come to the meeting room.',\n      time: '2017-03-22T09:20:28.299Z'\n    }, {\n      who: '5725a680b3249760ea21de52',\n      message: 'You are the worst!',\n      time: '2017-03-22T09:22:28.299Z'\n    }, {\n      who: '5725a680b3249760ea21de52',\n      message: 'We are losing money! Quick!',\n      time: '2017-03-22T09:25:28.299Z'\n    }, {\n      who: '5725a6802d10e277a0f35724',\n      message: 'It’s not my money, you know. I will eat my breakfast and then I will come to the meeting room.',\n      time: '2017-03-22T09:27:28.299Z'\n    }, {\n      who: '5725a680b3249760ea21de52',\n      message: 'You are the worst!',\n      time: '2017-03-22T09:33:28.299Z'\n    }, {\n      who: '5725a680b3249760ea21de52',\n      message: 'You are the worst!',\n      time: '2017-03-22T09:34:28.299Z'\n    }, {\n      who: '5725a680b3249760ea21de52',\n      message: 'We are losing money! Quick!',\n      time: '2017-03-22T09:35:28.299Z'\n    }, {\n      who: '5725a6802d10e277a0f35724',\n      message: 'It’s not my money, you know. I will eat my breakfast and then I will come to the meeting room.',\n      time: '2017-03-22T09:45:28.299Z'\n    }, {\n      who: '5725a680b3249760ea21de52',\n      message: 'You are the worst!',\n      time: '2017-03-22T10:00:28.299Z'\n    }]\n  }, {\n    id: '2725a680b8d240c011dd2243',\n    dialog: [{\n      who: '5725a680606588342058356d',\n      message: 'Quickly come to the meeting room 1B, we have a big server issue',\n      time: '2017-04-22T01:00:00.299Z'\n    }, {\n      who: '5725a6802d10e277a0f35724',\n      message: 'I’m having breakfast right now, can’t you wait for 10 minutes?',\n      time: '2017-04-22T01:05:00.299Z'\n    }, {\n      who: '5725a680606588342058356d',\n      message: 'We are losing money! Quick!',\n      time: '2017-04-22T01:10:00.299Z'\n    }]\n  }, {\n    id: '3725a6809413bf8a0a5272b4',\n    dialog: [{\n      who: '5725a68009e20d0a9e9acf2a',\n      message: 'Quickly come to the meeting room 1B, we have a big server issue',\n      time: '2017-04-22T02:10:00.299Z'\n    }]\n  }],\n  user: [{\n    id: '5725a6802d10e277a0f35724',\n    name: 'John Doe',\n    avatar: 'assets/images/avatars/profile.jpg',\n    status: 'online',\n    mood: \"it's a status....not your diary...\",\n    chatList: [{\n      chatId: '1725a680b3249760ea21de52',\n      contactId: '5725a680b3249760ea21de52',\n      lastMessageTime: '2017-06-12T02:10:18.931Z'\n    }, {\n      chatId: '2725a680b8d240c011dd2243',\n      contactId: '5725a680606588342058356d',\n      lastMessageTime: '2017-02-18T10:30:18.931Z'\n    }, {\n      chatId: '3725a6809413bf8a0a5272b4',\n      contactId: '5725a68009e20d0a9e9acf2a',\n      lastMessageTime: '2017-03-18T12:30:18.931Z'\n    }]\n  }]\n};\nmock.onGet('/api/chat/contacts').reply(config => {\n  return [200, chatDb.contacts];\n});\nmock.onGet('/api/chat/get-chat').reply(request => {\n  const {\n    contactId,\n    userId\n  } = request.params;\n  const user = chatDb.user.find(_user => _user.id === userId);\n  const userChat = user.chatList.find(_chat => _chat.contactId === contactId);\n  const chatId = userChat ? userChat.chatId : createNewChat(contactId, userId);\n  return [200, {\n    chat: chatDb.chats.find(_chat => _chat.id === chatId),\n    userChatList: user.chatList\n  }];\n});\nmock.onGet('/api/chat/user').reply(config => {\n  return [200, chatDb.user[0]];\n});\nmock.onPost('/api/chat/user/data').reply(request => {\n  const data = JSON.parse(request.data);\n  chatDb.user[0] = _.merge({}, chatDb.user[0], data);\n  return [200, chatDb.user[0]];\n});\n\nfunction createNewChat(contactId, userId) {\n  const user = chatDb.user.find(_user => _user.id === userId);\n  const chatId = FuseUtils.generateGUID();\n  user.chatList = [{\n    chatId,\n    contactId,\n    lastMessageTime: ''\n  }, ...chatDb.user[0].chatList];\n  chatDb.chats = [...chatDb.chats, {\n    id: chatId,\n    dialog: []\n  }];\n  return chatId;\n}\n\nmock.onPost('/api/chat/send-message').reply(request => {\n  const data = JSON.parse(request.data);\n  const {\n    chatId,\n    messageText,\n    contactId\n  } = data;\n  const message = {\n    who: chatDb.user[0].id,\n    message: messageText,\n    time: new Date()\n  };\n  const chat = chatDb.chats.find(_chat => _chat.id === chatId);\n  chat.dialog = [...chat.dialog, message];\n  chatDb.user[0].chatList.find(_contact => _contact.contactId === contactId).lastMessageTime = message.time;\n  return [200, {\n    message,\n    userChatList: chatDb.user[0].chatList\n  }];\n});","map":{"version":3,"sources":["D:/proyectos_react/Proyecto_sena/src/@fake-db/db/chat-db.js"],"names":["FuseUtils","_","mock","chatDb","contacts","id","name","avatar","status","mood","unread","chats","dialog","who","message","time","user","chatList","chatId","contactId","lastMessageTime","onGet","reply","config","request","userId","params","find","_user","userChat","_chat","createNewChat","chat","userChatList","onPost","data","JSON","parse","merge","generateGUID","messageText","Date","_contact"],"mappings":"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","sourcesContent":["import FuseUtils from '@fuse/utils';\nimport _ from '@lodash';\nimport mock from '../mock';\n\nconst chatDb = {\n\tcontacts: [\n\t\t{\n\t\t\tid: '5725a680b3249760ea21de52',\n\t\t\tname: 'Alice Freeman',\n\t\t\tavatar: 'assets/images/avatars/alice.jpg',\n\t\t\tstatus: 'online',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...',\n\t\t\tunread: '2'\n\t\t},\n\t\t{\n\t\t\tid: '5725a680606588342058356d',\n\t\t\tname: 'Arnold',\n\t\t\tavatar: 'assets/images/avatars/Arnold.jpg',\n\t\t\tstatus: 'do-not-disturb',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...',\n\t\t\tunread: '3'\n\t\t},\n\t\t{\n\t\t\tid: '5725a68009e20d0a9e9acf2a',\n\t\t\tname: 'Barrera',\n\t\t\tavatar: 'assets/images/avatars/Barrera.jpg',\n\t\t\tstatus: 'do-not-disturb',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...',\n\t\t\tunread: '1'\n\t\t},\n\t\t{\n\t\t\tid: '5725a6809fdd915739187ed5',\n\t\t\tname: 'Blair',\n\t\t\tavatar: 'assets/images/avatars/Blair.jpg',\n\t\t\tstatus: 'offline',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n\t\t},\n\t\t{\n\t\t\tid: '5725a68007920cf75051da64',\n\t\t\tname: 'Boyle',\n\t\t\tavatar: 'assets/images/avatars/Boyle.jpg',\n\t\t\tstatus: 'offline',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n\t\t},\n\t\t{\n\t\t\tid: '5725a68031fdbb1db2c1af47',\n\t\t\tname: 'Christy',\n\t\t\tavatar: 'assets/images/avatars/Christy.jpg',\n\t\t\tstatus: 'offline',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n\t\t},\n\t\t{\n\t\t\tid: '5725a680bc670af746c435e2',\n\t\t\tname: 'Copeland',\n\t\t\tavatar: 'assets/images/avatars/Copeland.jpg',\n\t\t\tstatus: 'online',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n\t\t},\n\t\t{\n\t\t\tid: '5725a680e7eb988a58ddf303',\n\t\t\tname: 'Estes',\n\t\t\tavatar: 'assets/images/avatars/Estes.jpg',\n\t\t\tstatus: 'away',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n\t\t},\n\t\t{\n\t\t\tid: '5725a680dcb077889f758961',\n\t\t\tname: 'Harper',\n\t\t\tavatar: 'assets/images/avatars/Harper.jpg',\n\t\t\tstatus: 'offline',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n\t\t},\n\t\t{\n\t\t\tid: '5725a6806acf030f9341e925',\n\t\t\tname: 'Helen',\n\t\t\tavatar: 'assets/images/avatars/Helen.jpg',\n\t\t\tstatus: 'away',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n\t\t},\n\t\t{\n\t\t\tid: '5725a680ae1ae9a3c960d487',\n\t\t\tname: 'Henderson',\n\t\t\tavatar: 'assets/images/avatars/Henderson.jpg',\n\t\t\tstatus: 'offline',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n\t\t},\n\t\t{\n\t\t\tid: '5725a680b8d240c011dd224b',\n\t\t\tname: 'Josefina',\n\t\t\tavatar: 'assets/images/avatars/Josefina.jpg',\n\t\t\tstatus: 'online',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n\t\t},\n\t\t{\n\t\t\tid: '5725a68034cb3968e1f79eac',\n\t\t\tname: 'Katina',\n\t\t\tavatar: 'assets/images/avatars/Katina.jpg',\n\t\t\tstatus: 'away',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n\t\t},\n\t\t{\n\t\t\tid: '5725a6801146cce777df2a08',\n\t\t\tname: 'Lily',\n\t\t\tavatar: 'assets/images/avatars/Lily.jpg',\n\t\t\tstatus: 'do-not-disturb',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n\t\t},\n\t\t{\n\t\t\tid: '5725a6808a178bfd034d6ecf',\n\t\t\tname: 'Mai',\n\t\t\tavatar: 'assets/images/avatars/Mai.jpg',\n\t\t\tstatus: 'away',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n\t\t},\n\t\t{\n\t\t\tid: '5725a680653c265f5c79b5a9',\n\t\t\tname: 'Nancy',\n\t\t\tavatar: 'assets/images/avatars/Nancy.jpg',\n\t\t\tstatus: 'do-not-disturb',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n\t\t},\n\t\t{\n\t\t\tid: '5725a680bbcec3cc32a8488a',\n\t\t\tname: 'Nora',\n\t\t\tavatar: 'assets/images/avatars/Nora.jpg',\n\t\t\tstatus: 'do-not-disturb',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n\t\t},\n\t\t{\n\t\t\tid: '5725a6803d87f1b77e17b62b',\n\t\t\tname: 'Odessa',\n\t\t\tavatar: 'assets/images/avatars/Odessa.jpg',\n\t\t\tstatus: 'away',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n\t\t},\n\t\t{\n\t\t\tid: '5725a680e87cb319bd9bd673',\n\t\t\tname: 'Reyna',\n\t\t\tavatar: 'assets/images/avatars/Reyna.jpg',\n\t\t\tstatus: 'offline',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n\t\t},\n\t\t{\n\t\t\tid: '5725a6802d10e277a0f35775',\n\t\t\tname: 'Shauna',\n\t\t\tavatar: 'assets/images/avatars/Shauna.jpg',\n\t\t\tstatus: 'online',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n\t\t},\n\t\t{\n\t\t\tid: '5725a680aef1e5cf26dd3d1f',\n\t\t\tname: 'Shepard',\n\t\t\tavatar: 'assets/images/avatars/Shepard.jpg',\n\t\t\tstatus: 'online',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n\t\t},\n\t\t{\n\t\t\tid: '5725a680cd7efa56a45aea5d',\n\t\t\tname: 'Tillman',\n\t\t\tavatar: 'assets/images/avatars/Tillman.jpg',\n\t\t\tstatus: 'do-not-disturb',\n\t\t\tmood: ''\n\t\t},\n\t\t{\n\t\t\tid: '5725a680fb65c91a82cb35e2',\n\t\t\tname: 'Trevino',\n\t\t\tavatar: 'assets/images/avatars/Trevino.jpg',\n\t\t\tstatus: 'away',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n\t\t},\n\t\t{\n\t\t\tid: '5725a68018c663044be49cbf',\n\t\t\tname: 'Tyson',\n\t\t\tavatar: 'assets/images/avatars/Tyson.jpg',\n\t\t\tstatus: 'do-not-disturb',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n\t\t},\n\t\t{\n\t\t\tid: '5725a6809413bf8a0a5272b1',\n\t\t\tname: 'Velazquez',\n\t\t\tavatar: 'assets/images/avatars/Velazquez.jpg',\n\t\t\tstatus: 'online',\n\t\t\tmood: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'\n\t\t}\n\t],\n\tchats: [\n\t\t{\n\t\t\tid: '1725a680b3249760ea21de52',\n\t\t\tdialog: [\n\t\t\t\t{\n\t\t\t\t\twho: '5725a680b3249760ea21de52',\n\t\t\t\t\tmessage: 'Quickly come to the meeting room 1B, we have a big server issue',\n\t\t\t\t\ttime: '2017-03-22T08:54:28.299Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twho: '5725a6802d10e277a0f35724',\n\t\t\t\t\tmessage: 'I’m having breakfast right now, can’t you wait for 10 minutes?',\n\t\t\t\t\ttime: '2017-03-22T08:55:28.299Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twho: '5725a6802d10e277a0f35724',\n\t\t\t\t\tmessage: 'I’m having breakfast right now, can’t you wait for 10 minutes?',\n\t\t\t\t\ttime: '2017-03-22T08:56:28.299Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twho: '5725a680b3249760ea21de52',\n\t\t\t\t\tmessage: 'We are losing money! Quick!',\n\t\t\t\t\ttime: '2017-03-22T09:00:28.299Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twho: '5725a6802d10e277a0f35724',\n\t\t\t\t\tmessage:\n\t\t\t\t\t\t'It’s not my money, you know. I will eat my breakfast and then I will come to the meeting room.',\n\t\t\t\t\ttime: '2017-03-22T09:02:28.299Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twho: '5725a680b3249760ea21de52',\n\t\t\t\t\tmessage: 'You are the worst!',\n\t\t\t\t\ttime: '2017-03-22T09:05:28.299Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twho: '5725a680b3249760ea21de52',\n\t\t\t\t\tmessage: 'We are losing money! Quick!',\n\t\t\t\t\ttime: '2017-03-22T09:14:28.299Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twho: '5725a680b3249760ea21de52',\n\t\t\t\t\tmessage: 'You are the worst!',\n\t\t\t\t\ttime: '2017-03-22T09:16:28.299Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twho: '5725a680b3249760ea21de52',\n\t\t\t\t\tmessage: 'We are losing money! Quick!',\n\t\t\t\t\ttime: '2017-03-22T09:17:28.299Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twho: '5725a6802d10e277a0f35724',\n\t\t\t\t\tmessage:\n\t\t\t\t\t\t'It’s not my money, you know. I will eat my breakfast and then I will come to the meeting room.',\n\t\t\t\t\ttime: '2017-03-22T09:20:28.299Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twho: '5725a680b3249760ea21de52',\n\t\t\t\t\tmessage: 'You are the worst!',\n\t\t\t\t\ttime: '2017-03-22T09:22:28.299Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twho: '5725a680b3249760ea21de52',\n\t\t\t\t\tmessage: 'We are losing money! Quick!',\n\t\t\t\t\ttime: '2017-03-22T09:25:28.299Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twho: '5725a6802d10e277a0f35724',\n\t\t\t\t\tmessage:\n\t\t\t\t\t\t'It’s not my money, you know. I will eat my breakfast and then I will come to the meeting room.',\n\t\t\t\t\ttime: '2017-03-22T09:27:28.299Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twho: '5725a680b3249760ea21de52',\n\t\t\t\t\tmessage: 'You are the worst!',\n\t\t\t\t\ttime: '2017-03-22T09:33:28.299Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twho: '5725a680b3249760ea21de52',\n\t\t\t\t\tmessage: 'You are the worst!',\n\t\t\t\t\ttime: '2017-03-22T09:34:28.299Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twho: '5725a680b3249760ea21de52',\n\t\t\t\t\tmessage: 'We are losing money! Quick!',\n\t\t\t\t\ttime: '2017-03-22T09:35:28.299Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twho: '5725a6802d10e277a0f35724',\n\t\t\t\t\tmessage:\n\t\t\t\t\t\t'It’s not my money, you know. I will eat my breakfast and then I will come to the meeting room.',\n\t\t\t\t\ttime: '2017-03-22T09:45:28.299Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twho: '5725a680b3249760ea21de52',\n\t\t\t\t\tmessage: 'You are the worst!',\n\t\t\t\t\ttime: '2017-03-22T10:00:28.299Z'\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid: '2725a680b8d240c011dd2243',\n\t\t\tdialog: [\n\t\t\t\t{\n\t\t\t\t\twho: '5725a680606588342058356d',\n\t\t\t\t\tmessage: 'Quickly come to the meeting room 1B, we have a big server issue',\n\t\t\t\t\ttime: '2017-04-22T01:00:00.299Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twho: '5725a6802d10e277a0f35724',\n\t\t\t\t\tmessage: 'I’m having breakfast right now, can’t you wait for 10 minutes?',\n\t\t\t\t\ttime: '2017-04-22T01:05:00.299Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twho: '5725a680606588342058356d',\n\t\t\t\t\tmessage: 'We are losing money! Quick!',\n\t\t\t\t\ttime: '2017-04-22T01:10:00.299Z'\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid: '3725a6809413bf8a0a5272b4',\n\t\t\tdialog: [\n\t\t\t\t{\n\t\t\t\t\twho: '5725a68009e20d0a9e9acf2a',\n\t\t\t\t\tmessage: 'Quickly come to the meeting room 1B, we have a big server issue',\n\t\t\t\t\ttime: '2017-04-22T02:10:00.299Z'\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t],\n\tuser: [\n\t\t{\n\t\t\tid: '5725a6802d10e277a0f35724',\n\t\t\tname: 'John Doe',\n\t\t\tavatar: 'assets/images/avatars/profile.jpg',\n\t\t\tstatus: 'online',\n\t\t\tmood: \"it's a status....not your diary...\",\n\t\t\tchatList: [\n\t\t\t\t{\n\t\t\t\t\tchatId: '1725a680b3249760ea21de52',\n\t\t\t\t\tcontactId: '5725a680b3249760ea21de52',\n\t\t\t\t\tlastMessageTime: '2017-06-12T02:10:18.931Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tchatId: '2725a680b8d240c011dd2243',\n\t\t\t\t\tcontactId: '5725a680606588342058356d',\n\t\t\t\t\tlastMessageTime: '2017-02-18T10:30:18.931Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tchatId: '3725a6809413bf8a0a5272b4',\n\t\t\t\t\tcontactId: '5725a68009e20d0a9e9acf2a',\n\t\t\t\t\tlastMessageTime: '2017-03-18T12:30:18.931Z'\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n};\n\nmock.onGet('/api/chat/contacts').reply(config => {\n\treturn [200, chatDb.contacts];\n});\n\nmock.onGet('/api/chat/get-chat').reply(request => {\n\tconst { contactId, userId } = request.params;\n\tconst user = chatDb.user.find(_user => _user.id === userId);\n\n\tconst userChat = user.chatList.find(_chat => _chat.contactId === contactId);\n\tconst chatId = userChat ? userChat.chatId : createNewChat(contactId, userId);\n\n\treturn [\n\t\t200,\n\t\t{\n\t\t\tchat: chatDb.chats.find(_chat => _chat.id === chatId),\n\t\t\tuserChatList: user.chatList\n\t\t}\n\t];\n});\n\nmock.onGet('/api/chat/user').reply(config => {\n\treturn [200, chatDb.user[0]];\n});\n\nmock.onPost('/api/chat/user/data').reply(request => {\n\tconst data = JSON.parse(request.data);\n\tchatDb.user[0] = _.merge({}, chatDb.user[0], data);\n\treturn [200, chatDb.user[0]];\n});\n\nfunction createNewChat(contactId, userId) {\n\tconst user = chatDb.user.find(_user => _user.id === userId);\n\tconst chatId = FuseUtils.generateGUID();\n\tuser.chatList = [\n\t\t{\n\t\t\tchatId,\n\t\t\tcontactId,\n\t\t\tlastMessageTime: ''\n\t\t},\n\t\t...chatDb.user[0].chatList\n\t];\n\tchatDb.chats = [\n\t\t...chatDb.chats,\n\t\t{\n\t\t\tid: chatId,\n\t\t\tdialog: []\n\t\t}\n\t];\n\treturn chatId;\n}\n\nmock.onPost('/api/chat/send-message').reply(request => {\n\tconst data = JSON.parse(request.data);\n\tconst { chatId, messageText, contactId } = data;\n\tconst message = {\n\t\twho: chatDb.user[0].id,\n\t\tmessage: messageText,\n\t\ttime: new Date()\n\t};\n\n\tconst chat = chatDb.chats.find(_chat => _chat.id === chatId);\n\tchat.dialog = [...chat.dialog, message];\n\tchatDb.user[0].chatList.find(_contact => _contact.contactId === contactId).lastMessageTime = message.time;\n\n\treturn [\n\t\t200,\n\t\t{\n\t\t\tmessage,\n\t\t\tuserChatList: chatDb.user[0].chatList\n\t\t}\n\t];\n});\n"]},"metadata":{},"sourceType":"module"}