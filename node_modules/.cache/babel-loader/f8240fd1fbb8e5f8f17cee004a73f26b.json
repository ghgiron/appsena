{"ast":null,"code":"import _defineProperty from\"D:\\\\proyectos_react\\\\Proyecto_sena_desarrollo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"D:\\\\proyectos_react\\\\Proyecto_sena_desarrollo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\proyectos_react\\\\Proyecto_sena_desarrollo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";var _extraReducers;import{createSlice,createAsyncThunk,createEntityAdapter}from'@reduxjs/toolkit';import axios from'axios';import{getUserData}from'./userSlice';export var getContacts=createAsyncThunk('contactsApp/gestiontercero/getContacts',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(routeParams,_ref){var getState,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:getState=_ref.getState;routeParams=routeParams||getState().contactsApp.contacts.routeParams;_context.next=4;return axios.get('/api/contacts-app/contacts',{params:routeParams});case 4:response=_context.sent;_context.next=7;return response.data;case 7:data=_context.sent;return _context.abrupt(\"return\",{data:data,routeParams:routeParams});case 9:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}());export var addContact=createAsyncThunk('contactsApp/contacts/addContact',/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(contact,_ref3){var dispatch,getState,response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch=_ref3.dispatch,getState=_ref3.getState;_context2.next=3;return axios.post('/api/contacts-app/add-contact',{contact:contact});case 3:response=_context2.sent;_context2.next=6;return response.data;case 6:data=_context2.sent;dispatch(getContacts());return _context2.abrupt(\"return\",data);case 9:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3,_x4){return _ref4.apply(this,arguments);};}());export var updateContact=createAsyncThunk('contactsApp/contacts/updateContact',/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(contact,_ref5){var dispatch,getState,response,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch=_ref5.dispatch,getState=_ref5.getState;_context3.next=3;return axios.post('/api/contacts-app/update-contact',{contact:contact});case 3:response=_context3.sent;_context3.next=6;return response.data;case 6:data=_context3.sent;dispatch(getContacts());return _context3.abrupt(\"return\",data);case 9:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x5,_x6){return _ref6.apply(this,arguments);};}());export var removeContact=createAsyncThunk('contactsApp/contacts/removeContact',/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(contactId,_ref7){var dispatch,getState,response,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch=_ref7.dispatch,getState=_ref7.getState;_context4.next=3;return axios.post('/api/contacts-app/remove-contact',{contactId:contactId});case 3:response=_context4.sent;_context4.next=6;return response.data;case 6:data=_context4.sent;dispatch(getContacts());return _context4.abrupt(\"return\",data);case 9:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x7,_x8){return _ref8.apply(this,arguments);};}());export var removeContacts=createAsyncThunk('contactsApp/contacts/removeContacts',/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(contactIds,_ref9){var dispatch,getState,response,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:dispatch=_ref9.dispatch,getState=_ref9.getState;_context5.next=3;return axios.post('/api/contacts-app/remove-contacts',{contactIds:contactIds});case 3:response=_context5.sent;_context5.next=6;return response.data;case 6:data=_context5.sent;dispatch(getContacts());return _context5.abrupt(\"return\",data);case 9:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x9,_x10){return _ref10.apply(this,arguments);};}());export var toggleStarredContact=createAsyncThunk('contactsApp/contacts/toggleStarredContact',/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(contactId,_ref11){var dispatch,getState,response,data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:dispatch=_ref11.dispatch,getState=_ref11.getState;_context6.next=3;return axios.post('/api/contacts-app/toggle-starred-contact',{contactId:contactId});case 3:response=_context6.sent;_context6.next=6;return response.data;case 6:data=_context6.sent;dispatch(getUserData());dispatch(getContacts());return _context6.abrupt(\"return\",data);case 10:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x11,_x12){return _ref12.apply(this,arguments);};}());export var toggleStarredContacts=createAsyncThunk('contactsApp/contacts/toggleStarredContacts',/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(contactIds,_ref13){var dispatch,getState,response,data;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:dispatch=_ref13.dispatch,getState=_ref13.getState;_context7.next=3;return axios.post('/api/contacts-app/toggle-starred-contacts',{contactIds:contactIds});case 3:response=_context7.sent;_context7.next=6;return response.data;case 6:data=_context7.sent;dispatch(getUserData());dispatch(getContacts());return _context7.abrupt(\"return\",data);case 10:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x13,_x14){return _ref14.apply(this,arguments);};}());export var setContactsStarred=createAsyncThunk('contactsApp/contacts/setContactsStarred',/*#__PURE__*/function(){var _ref16=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(contactIds,_ref15){var dispatch,getState,response,data;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:dispatch=_ref15.dispatch,getState=_ref15.getState;_context8.next=3;return axios.post('/api/contacts-app/set-contacts-starred',{contactIds:contactIds});case 3:response=_context8.sent;_context8.next=6;return response.data;case 6:data=_context8.sent;dispatch(getUserData());dispatch(getContacts());return _context8.abrupt(\"return\",data);case 10:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x15,_x16){return _ref16.apply(this,arguments);};}());export var setContactsUnstarred=createAsyncThunk('contactsApp/contacts/setContactsUnstarred',/*#__PURE__*/function(){var _ref18=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(contactIds,_ref17){var dispatch,getState,response,data;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:dispatch=_ref17.dispatch,getState=_ref17.getState;_context9.next=3;return axios.post('/api/contacts-app/set-contacts-unstarred',{contactIds:contactIds});case 3:response=_context9.sent;_context9.next=6;return response.data;case 6:data=_context9.sent;dispatch(getUserData());dispatch(getContacts());return _context9.abrupt(\"return\",data);case 10:case\"end\":return _context9.stop();}}},_callee9);}));return function(_x17,_x18){return _ref18.apply(this,arguments);};}());var contactsAdapter=createEntityAdapter({});var _contactsAdapter$getS=contactsAdapter.getSelectors(function(state){return state.contactsApp.contacts;}),selectContacts=_contactsAdapter$getS.selectAll,selectContactsById=_contactsAdapter$getS.selectById;export{selectContacts,selectContactsById};var contactsSlice=createSlice({name:'contactsApp/gestiontercero',initialState:contactsAdapter.getInitialState({searchText:'',routeParams:{},contactDialog:{type:'new',props:{open:false},data:null}}),reducers:{setContactsSearchText:{reducer:function reducer(state,action){state.searchText=action.payload;},prepare:function prepare(event){return{payload:event.target.value||''};}},openNewContactDialog:function openNewContactDialog(state,action){state.contactDialog={type:'new',props:{open:true},data:null};},closeNewContactDialog:function closeNewContactDialog(state,action){state.contactDialog={type:'new',props:{open:false},data:null};},openEditContactDialog:function openEditContactDialog(state,action){state.contactDialog={type:'edit',props:{open:true},data:action.payload};},closeEditContactDialog:function closeEditContactDialog(state,action){state.contactDialog={type:'edit',props:{open:false},data:null};}},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,updateContact.fulfilled,contactsAdapter.upsertOne),_defineProperty(_extraReducers,addContact.fulfilled,contactsAdapter.addOne),_defineProperty(_extraReducers,getContacts.fulfilled,function(state,action){var _action$payload=action.payload,data=_action$payload.data,routeParams=_action$payload.routeParams;contactsAdapter.setAll(state,data);state.routeParams=routeParams;state.searchText='';}),_extraReducers)});var _contactsSlice$action=contactsSlice.actions,setContactsSearchText=_contactsSlice$action.setContactsSearchText,openNewContactDialog=_contactsSlice$action.openNewContactDialog,closeNewContactDialog=_contactsSlice$action.closeNewContactDialog,openEditContactDialog=_contactsSlice$action.openEditContactDialog,closeEditContactDialog=_contactsSlice$action.closeEditContactDialog;export{setContactsSearchText,openNewContactDialog,closeNewContactDialog,openEditContactDialog,closeEditContactDialog};export default contactsSlice.reducer;","map":null,"metadata":{},"sourceType":"module"}