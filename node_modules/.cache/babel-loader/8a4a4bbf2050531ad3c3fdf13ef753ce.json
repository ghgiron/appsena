{"ast":null,"code":"var _jsxFileName = \"D:\\\\proyectos_react\\\\Proyecto_sena\\\\src\\\\app\\\\main\\\\apps\\\\e-commerce\\\\products\\\\ProductsTable.js\";\nimport FuseScrollbars from '@fuse/core/FuseScrollbars';\nimport _ from '@lodash';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Icon from '@material-ui/core/Icon';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport clsx from 'clsx';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { getProducts, selectProducts } from '../store/productsSlice';\nimport ProductsTableHead from './ProductsTableHead';\n\nfunction ProductsTable(props) {\n  const dispatch = useDispatch();\n  const products = useSelector(selectProducts);\n  const searchText = useSelector(({\n    eCommerceApp\n  }) => eCommerceApp.products.searchText);\n  const [selected, setSelected] = useState([]);\n  const [data, setData] = useState(products);\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n  const [order, setOrder] = useState({\n    direction: 'asc',\n    id: null\n  });\n  useEffect(() => {\n    dispatch(getProducts());\n  }, [dispatch]);\n  useEffect(() => {\n    if (searchText.length !== 0) {\n      setData(_.filter(products, item => item.name.toLowerCase().includes(searchText.toLowerCase())));\n      setPage(0);\n    } else {\n      setData(products);\n    }\n  }, [products, searchText]);\n\n  function handleRequestSort(event, property) {\n    const id = property;\n    let direction = 'desc';\n\n    if (order.id === property && order.direction === 'desc') {\n      direction = 'asc';\n    }\n\n    setOrder({\n      direction,\n      id\n    });\n  }\n\n  function handleSelectAllClick(event) {\n    if (event.target.checked) {\n      setSelected(data.map(n => n.id));\n      return;\n    }\n\n    setSelected([]);\n  }\n\n  function handleClick(item) {\n    props.history.push(`/apps/e-commerce/products/${item.id}/${item.handle}`);\n  }\n\n  function handleCheck(event, id) {\n    const selectedIndex = selected.indexOf(id);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, id);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n    }\n\n    setSelected(newSelected);\n  }\n\n  function handleChangePage(event, value) {\n    setPage(value);\n  }\n\n  function handleChangeRowsPerPage(event) {\n    setRowsPerPage(event.target.value);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full flex flex-col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(FuseScrollbars, {\n    className: \"flex-grow overflow-x-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    stickyHeader: true,\n    className: \"min-w-xl\",\n    \"aria-labelledby\": \"tableTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ProductsTableHead, {\n    numSelected: selected.length,\n    order: order,\n    onSelectAllClick: handleSelectAllClick,\n    onRequestSort: handleRequestSort,\n    rowCount: data.length,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 6\n    }\n  }, _.orderBy(data, [o => {\n    switch (order.id) {\n      case 'categories':\n        {\n          return o.categories[0];\n        }\n\n      default:\n        {\n          return o[order.id];\n        }\n    }\n  }], [order.direction]).slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(n => {\n    const isSelected = selected.indexOf(n.id) !== -1;\n    return /*#__PURE__*/React.createElement(TableRow, {\n      className: \"h-64 cursor-pointer\",\n      hover: true,\n      role: \"checkbox\",\n      \"aria-checked\": isSelected,\n      tabIndex: -1,\n      key: n.id,\n      selected: isSelected,\n      onClick: event => handleClick(n),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      className: \"w-40 md:w-64 text-center\",\n      padding: \"none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      checked: isSelected,\n      onClick: event => event.stopPropagation(),\n      onChange: event => handleCheck(event, n.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 12\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"w-52 px-4 md:px-0\",\n      component: \"th\",\n      scope: \"row\",\n      padding: \"none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }\n    }, n.images.length > 0 && n.featuredImageId ? /*#__PURE__*/React.createElement(\"img\", {\n      className: \"w-full block rounded\",\n      src: _.find(n.images, {\n        id: n.featuredImageId\n      }).url,\n      alt: n.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }\n    }) : /*#__PURE__*/React.createElement(\"img\", {\n      className: \"w-full block rounded\",\n      src: \"assets/images/ecommerce/product-image-placeholder.png\",\n      alt: n.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"p-4 md:p-16\",\n      component: \"th\",\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }\n    }, n.name), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"p-4 md:p-16 truncate\",\n      component: \"th\",\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }\n    }, n.categories.join(', ')), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"p-4 md:p-16\",\n      component: \"th\",\n      scope: \"row\",\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 12\n      }\n    }, \"$\"), n.priceTaxIncl), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"p-4 md:p-16\",\n      component: \"th\",\n      scope: \"row\",\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }\n    }, n.quantity, /*#__PURE__*/React.createElement(\"i\", {\n      className: clsx('inline-block w-8 h-8 rounded mx-8', n.quantity <= 5 && 'bg-red', n.quantity > 5 && n.quantity <= 25 && 'bg-orange', n.quantity > 25 && 'bg-green'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 12\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"p-4 md:p-16\",\n      component: \"th\",\n      scope: \"row\",\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }\n    }, n.active ? /*#__PURE__*/React.createElement(Icon, {\n      className: \"text-green text-20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }\n    }, \"check_circle\") : /*#__PURE__*/React.createElement(Icon, {\n      className: \"text-red text-20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 13\n      }\n    }, \"remove_circle\")));\n  })))), /*#__PURE__*/React.createElement(TablePagination, {\n    className: \"flex-shrink-0 border-t-1\",\n    component: \"div\",\n    count: data.length,\n    rowsPerPage: rowsPerPage,\n    page: page,\n    backIconButtonProps: {\n      'aria-label': 'Previous Page'\n    },\n    nextIconButtonProps: {\n      'aria-label': 'Next Page'\n    },\n    onChangePage: handleChangePage,\n    onChangeRowsPerPage: handleChangeRowsPerPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 4\n    }\n  }));\n}\n\nexport default withRouter(ProductsTable);","map":{"version":3,"sources":["D:/proyectos_react/Proyecto_sena/src/app/main/apps/e-commerce/products/ProductsTable.js"],"names":["FuseScrollbars","_","Checkbox","Icon","Table","TableBody","TableCell","TablePagination","TableRow","clsx","React","useEffect","useState","useDispatch","useSelector","withRouter","getProducts","selectProducts","ProductsTableHead","ProductsTable","props","dispatch","products","searchText","eCommerceApp","selected","setSelected","data","setData","page","setPage","rowsPerPage","setRowsPerPage","order","setOrder","direction","id","length","filter","item","name","toLowerCase","includes","handleRequestSort","event","property","handleSelectAllClick","target","checked","map","n","handleClick","history","push","handle","handleCheck","selectedIndex","indexOf","newSelected","concat","slice","handleChangePage","value","handleChangeRowsPerPage","orderBy","o","categories","isSelected","stopPropagation","images","featuredImageId","find","url","join","priceTaxIncl","quantity","active"],"mappings":"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","sourcesContent":["import FuseScrollbars from '@fuse/core/FuseScrollbars';\nimport _ from '@lodash';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Icon from '@material-ui/core/Icon';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport clsx from 'clsx';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { getProducts, selectProducts } from '../store/productsSlice';\nimport ProductsTableHead from './ProductsTableHead';\n\nfunction ProductsTable(props) {\n\tconst dispatch = useDispatch();\n\tconst products = useSelector(selectProducts);\n\tconst searchText = useSelector(({ eCommerceApp }) => eCommerceApp.products.searchText);\n\n\tconst [selected, setSelected] = useState([]);\n\tconst [data, setData] = useState(products);\n\tconst [page, setPage] = useState(0);\n\tconst [rowsPerPage, setRowsPerPage] = useState(10);\n\tconst [order, setOrder] = useState({\n\t\tdirection: 'asc',\n\t\tid: null\n\t});\n\n\tuseEffect(() => {\n\t\tdispatch(getProducts());\n\t}, [dispatch]);\n\n\tuseEffect(() => {\n\t\tif (searchText.length !== 0) {\n\t\t\tsetData(_.filter(products, item => item.name.toLowerCase().includes(searchText.toLowerCase())));\n\t\t\tsetPage(0);\n\t\t} else {\n\t\t\tsetData(products);\n\t\t}\n\t}, [products, searchText]);\n\n\tfunction handleRequestSort(event, property) {\n\t\tconst id = property;\n\t\tlet direction = 'desc';\n\n\t\tif (order.id === property && order.direction === 'desc') {\n\t\t\tdirection = 'asc';\n\t\t}\n\n\t\tsetOrder({\n\t\t\tdirection,\n\t\t\tid\n\t\t});\n\t}\n\n\tfunction handleSelectAllClick(event) {\n\t\tif (event.target.checked) {\n\t\t\tsetSelected(data.map(n => n.id));\n\t\t\treturn;\n\t\t}\n\t\tsetSelected([]);\n\t}\n\n\tfunction handleClick(item) {\n\t\tprops.history.push(`/apps/e-commerce/products/${item.id}/${item.handle}`);\n\t}\n\n\tfunction handleCheck(event, id) {\n\t\tconst selectedIndex = selected.indexOf(id);\n\t\tlet newSelected = [];\n\n\t\tif (selectedIndex === -1) {\n\t\t\tnewSelected = newSelected.concat(selected, id);\n\t\t} else if (selectedIndex === 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(1));\n\t\t} else if (selectedIndex === selected.length - 1) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, -1));\n\t\t} else if (selectedIndex > 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n\t\t}\n\n\t\tsetSelected(newSelected);\n\t}\n\n\tfunction handleChangePage(event, value) {\n\t\tsetPage(value);\n\t}\n\n\tfunction handleChangeRowsPerPage(event) {\n\t\tsetRowsPerPage(event.target.value);\n\t}\n\n\treturn (\n\t\t<div className=\"w-full flex flex-col\">\n\t\t\t<FuseScrollbars className=\"flex-grow overflow-x-auto\">\n\t\t\t\t<Table stickyHeader className=\"min-w-xl\" aria-labelledby=\"tableTitle\">\n\t\t\t\t\t<ProductsTableHead\n\t\t\t\t\t\tnumSelected={selected.length}\n\t\t\t\t\t\torder={order}\n\t\t\t\t\t\tonSelectAllClick={handleSelectAllClick}\n\t\t\t\t\t\tonRequestSort={handleRequestSort}\n\t\t\t\t\t\trowCount={data.length}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{_.orderBy(\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\to => {\n\t\t\t\t\t\t\t\t\tswitch (order.id) {\n\t\t\t\t\t\t\t\t\t\tcase 'categories': {\n\t\t\t\t\t\t\t\t\t\t\treturn o.categories[0];\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\t\treturn o[order.id];\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[order.direction]\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t.map(n => {\n\t\t\t\t\t\t\t\tconst isSelected = selected.indexOf(n.id) !== -1;\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\t\tclassName=\"h-64 cursor-pointer\"\n\t\t\t\t\t\t\t\t\t\thover\n\t\t\t\t\t\t\t\t\t\trole=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\taria-checked={isSelected}\n\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t\t\t\t\tkey={n.id}\n\t\t\t\t\t\t\t\t\t\tselected={isSelected}\n\t\t\t\t\t\t\t\t\t\tonClick={event => handleClick(n)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<TableCell className=\"w-40 md:w-64 text-center\" padding=\"none\">\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={isSelected}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={event => event.stopPropagation()}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={event => handleCheck(event, n.id)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\n\t\t\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-52 px-4 md:px-0\"\n\t\t\t\t\t\t\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\t\t\t\t\t\t\tscope=\"row\"\n\t\t\t\t\t\t\t\t\t\t\tpadding=\"none\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{n.images.length > 0 && n.featuredImageId ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full block rounded\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={_.find(n.images, { id: n.featuredImageId }).url}\n\t\t\t\t\t\t\t\t\t\t\t\t\talt={n.name}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full block rounded\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"assets/images/ecommerce/product-image-placeholder.png\"\n\t\t\t\t\t\t\t\t\t\t\t\t\talt={n.name}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\n\t\t\t\t\t\t\t\t\t\t<TableCell className=\"p-4 md:p-16\" component=\"th\" scope=\"row\">\n\t\t\t\t\t\t\t\t\t\t\t{n.name}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\n\t\t\t\t\t\t\t\t\t\t<TableCell className=\"p-4 md:p-16 truncate\" component=\"th\" scope=\"row\">\n\t\t\t\t\t\t\t\t\t\t\t{n.categories.join(', ')}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\n\t\t\t\t\t\t\t\t\t\t<TableCell className=\"p-4 md:p-16\" component=\"th\" scope=\"row\" align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t<span>$</span>\n\t\t\t\t\t\t\t\t\t\t\t{n.priceTaxIncl}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\n\t\t\t\t\t\t\t\t\t\t<TableCell className=\"p-4 md:p-16\" component=\"th\" scope=\"row\" align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t{n.quantity}\n\t\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'inline-block w-8 h-8 rounded mx-8',\n\t\t\t\t\t\t\t\t\t\t\t\t\tn.quantity <= 5 && 'bg-red',\n\t\t\t\t\t\t\t\t\t\t\t\t\tn.quantity > 5 && n.quantity <= 25 && 'bg-orange',\n\t\t\t\t\t\t\t\t\t\t\t\t\tn.quantity > 25 && 'bg-green'\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\n\t\t\t\t\t\t\t\t\t\t<TableCell className=\"p-4 md:p-16\" component=\"th\" scope=\"row\" align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t{n.active ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon className=\"text-green text-20\">check_circle</Icon>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon className=\"text-red text-20\">remove_circle</Icon>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</FuseScrollbars>\n\n\t\t\t<TablePagination\n\t\t\t\tclassName=\"flex-shrink-0 border-t-1\"\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={data.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tbackIconButtonProps={{\n\t\t\t\t\t'aria-label': 'Previous Page'\n\t\t\t\t}}\n\t\t\t\tnextIconButtonProps={{\n\t\t\t\t\t'aria-label': 'Next Page'\n\t\t\t\t}}\n\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default withRouter(ProductsTable);\n"]},"metadata":{},"sourceType":"module"}