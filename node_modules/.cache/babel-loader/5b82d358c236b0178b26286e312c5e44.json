{"ast":null,"code":"var _jsxFileName = \"D:\\\\proyectos_react\\\\Proyecto_sena\\\\src\\\\app\\\\main\\\\apps\\\\calendar\\\\CalendarApp.js\";\nimport FuseAnimate from '@fuse/core/FuseAnimate';\nimport Fab from '@material-ui/core/Fab';\nimport Icon from '@material-ui/core/Icon';\nimport { makeStyles } from '@material-ui/core/styles';\nimport withReducer from 'app/store/withReducer';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport React, { useEffect, useRef } from 'react';\nimport { Calendar, momentLocalizer, Views } from 'react-big-calendar';\nimport withDragAndDrop from 'react-big-calendar/lib/addons/dragAndDrop';\nimport 'react-big-calendar/lib/addons/dragAndDrop/styles.css';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport * as ReactDOM from 'react-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport CalendarHeader from './CalendarHeader';\nimport EventDialog from './EventDialog';\nimport reducer from './store';\nimport { dateFormat, selectEvents, openNewEventDialog, openEditEventDialog, updateEvent, getEvents } from './store/eventsSlice';\nconst localizer = momentLocalizer(moment);\nconst DragAndDropCalendar = withDragAndDrop(Calendar);\nconst allViews = Object.keys(Views).map(k => Views[k]);\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& .rbc-header': {\n      padding: '12px 6px',\n      fontWeight: 600,\n      fontSize: 14\n    },\n    '& .rbc-label': {\n      padding: '8px 6px'\n    },\n    '& .rbc-today': {\n      backgroundColor: 'transparent'\n    },\n    '& .rbc-header.rbc-today, & .rbc-month-view .rbc-day-bg.rbc-today': {\n      borderBottom: `2px solid ${theme.palette.secondary.main}!important`\n    },\n    '& .rbc-month-view, & .rbc-time-view, & .rbc-agenda-view': {\n      padding: 24,\n      [theme.breakpoints.down('sm')]: {\n        padding: 16\n      },\n      ...theme.mixins.border(0)\n    },\n    '& .rbc-agenda-view table': { ...theme.mixins.border(1),\n      '& thead > tr > th': { ...theme.mixins.borderBottom(0)\n      },\n      '& tbody > tr > td': {\n        padding: '12px 6px',\n        '& + td': { ...theme.mixins.borderLeft(1)\n        }\n      }\n    },\n    '& .rbc-agenda-table': {\n      '& th': {\n        border: 0\n      },\n      '& th, & td': {\n        padding: '12px 16px!important'\n      }\n    },\n    '& .rbc-time-view': {\n      '& .rbc-time-header': { ...theme.mixins.border(1),\n        borderRadius: '12px 12px 0 0'\n      },\n      '& .rbc-time-content': {\n        flex: '0 1 auto',\n        ...theme.mixins.border(1)\n      }\n    },\n    '& .rbc-month-view': {\n      '& > .rbc-month-header': {\n        borderRadius: '12px 12px 0 0'\n      },\n      '& > .rbc-row': { ...theme.mixins.border(1)\n      },\n      '& .rbc-month-row': { ...theme.mixins.border(1),\n        borderWidth: '0 1px 1px 1px!important',\n        minHeight: 128\n      },\n      '& .rbc-header + .rbc-header': { ...theme.mixins.borderLeft(1)\n      },\n      '& .rbc-header': { ...theme.mixins.borderBottom(0)\n      },\n      '& .rbc-day-bg + .rbc-day-bg': { ...theme.mixins.borderLeft(1)\n      }\n    },\n    '& .rbc-day-slot .rbc-time-slot': { ...theme.mixins.borderTop(1),\n      opacity: 0.5\n    },\n    '& .rbc-time-header > .rbc-row > * + *': { ...theme.mixins.borderLeft(1)\n    },\n    '& .rbc-time-content > * + * > *': { ...theme.mixins.borderLeft(1)\n    },\n    '& .rbc-day-bg + .rbc-day-bg': { ...theme.mixins.borderLeft(1)\n    },\n    '& .rbc-time-header > .rbc-row:first-child': { ...theme.mixins.borderBottom(1)\n    },\n    '& .rbc-timeslot-group': {\n      minHeight: 64,\n      ...theme.mixins.borderBottom(1)\n    },\n    '& .rbc-date-cell': {\n      padding: 8,\n      fontSize: 16,\n      fontWeight: 400,\n      opacity: 0.5,\n      '& > a': {\n        color: 'inherit'\n      }\n    },\n    '& .rbc-event': {\n      borderRadius: 4,\n      padding: '4px 8px',\n      backgroundColor: theme.palette.primary.dark,\n      color: theme.palette.primary.contrastText,\n      boxShadow: theme.shadows[0],\n      transitionProperty: 'box-shadow',\n      transitionDuration: theme.transitions.duration.short,\n      transitionTimingFunction: theme.transitions.easing.easeInOut,\n      position: 'relative',\n      '&:hover': {\n        boxShadow: theme.shadows[2]\n      }\n    },\n    '& .rbc-row-segment': {\n      padding: '0 4px 4px 4px'\n    },\n    '& .rbc-off-range-bg': {\n      backgroundColor: theme.palette.type === 'light' ? 'rgba(0,0,0,0.03)' : 'rgba(0,0,0,0.16)'\n    },\n    '& .rbc-show-more': {\n      color: theme.palette.secondary.main,\n      background: 'transparent'\n    },\n    '& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event': {\n      position: 'static'\n    },\n    '& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:first-child': {\n      left: 0,\n      top: 0,\n      bottom: 0,\n      height: 'auto'\n    },\n    '& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:last-child': {\n      right: 0,\n      top: 0,\n      bottom: 0,\n      height: 'auto'\n    }\n  },\n  addButton: {\n    position: 'absolute',\n    right: 12,\n    top: 172,\n    zIndex: 99\n  }\n}));\n\nfunction CalendarApp(props) {\n  const dispatch = useDispatch();\n  const events = useSelector(selectEvents).map(event => ({ ...event,\n    start: moment(event.start, dateFormat).toDate(),\n    end: moment(event.end, dateFormat).toDate()\n  }));\n  const classes = useStyles(props);\n  const headerEl = useRef(null);\n  useEffect(() => {\n    dispatch(getEvents());\n  }, [dispatch]);\n\n  function moveEvent({\n    event,\n    start,\n    end\n  }) {\n    dispatch(updateEvent({ ...event,\n      start,\n      end\n    }));\n  }\n\n  function resizeEvent({\n    event,\n    start,\n    end\n  }) {\n    delete event.type;\n    dispatch(updateEvent({ ...event,\n      start,\n      end\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(classes.root, 'flex flex-col flex-auto relative'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: headerEl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(DragAndDropCalendar, {\n    className: \"flex flex-1 container\",\n    selectable: true,\n    localizer: localizer,\n    events: events,\n    onEventDrop: moveEvent,\n    resizable: true,\n    onEventResize: resizeEvent,\n    defaultView: Views.MONTH,\n    defaultDate: new Date(2020, 3, 1),\n    startAccessor: \"start\",\n    endAccessor: \"end\",\n    views: allViews,\n    step: 60,\n    showMultiDayTimes: true,\n    components: {\n      toolbar: _props => {\n        return headerEl.current ? ReactDOM.createPortal( /*#__PURE__*/React.createElement(CalendarHeader, Object.assign({}, _props, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 32\n          }\n        })), headerEl.current) : null;\n      }\n    } // onNavigate={handleNavigate}\n    ,\n    onSelectEvent: event => {\n      dispatch(openEditEventDialog(event));\n    },\n    onSelectSlot: slotInfo => dispatch(openNewEventDialog(slotInfo)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(FuseAnimate, {\n    animation: \"transition.expandIn\",\n    delay: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Fab, {\n    color: \"secondary\",\n    \"aria-label\": \"add\",\n    className: classes.addButton,\n    onClick: () => dispatch(openNewEventDialog({\n      start: new Date(),\n      end: new Date()\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 6\n    }\n  }, \"add\"))), /*#__PURE__*/React.createElement(EventDialog, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 4\n    }\n  }));\n}\n\nexport default withReducer('calendarApp', reducer)(CalendarApp);\n/*\nIE 11 Fix\n*/\n\nif (!Element.prototype.matches) {\n  Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n}\n\nif (!Element.prototype.closest) {\n  Element.prototype.closest = s => {\n    let el = this;\n\n    do {\n      if (el.matches(s)) return el;\n      el = el.parentElement || el.parentNode;\n    } while (el !== null && el.nodeType === 1);\n\n    return null;\n  };\n}","map":{"version":3,"sources":["D:/proyectos_react/Proyecto_sena/src/app/main/apps/calendar/CalendarApp.js"],"names":["FuseAnimate","Fab","Icon","makeStyles","withReducer","clsx","moment","React","useEffect","useRef","Calendar","momentLocalizer","Views","withDragAndDrop","ReactDOM","useDispatch","useSelector","CalendarHeader","EventDialog","reducer","dateFormat","selectEvents","openNewEventDialog","openEditEventDialog","updateEvent","getEvents","localizer","DragAndDropCalendar","allViews","Object","keys","map","k","useStyles","theme","root","padding","fontWeight","fontSize","backgroundColor","borderBottom","palette","secondary","main","breakpoints","down","mixins","border","borderLeft","borderRadius","flex","borderWidth","minHeight","borderTop","opacity","color","primary","dark","contrastText","boxShadow","shadows","transitionProperty","transitionDuration","transitions","duration","short","transitionTimingFunction","easing","easeInOut","position","type","background","left","top","bottom","height","right","addButton","zIndex","CalendarApp","props","dispatch","events","event","start","toDate","end","classes","headerEl","moveEvent","resizeEvent","MONTH","Date","toolbar","_props","current","createPortal","slotInfo","Element","prototype","matches","msMatchesSelector","webkitMatchesSelector","closest","s","el","parentElement","parentNode","nodeType"],"mappings":"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","sourcesContent":["import FuseAnimate from '@fuse/core/FuseAnimate';\nimport Fab from '@material-ui/core/Fab';\nimport Icon from '@material-ui/core/Icon';\nimport { makeStyles } from '@material-ui/core/styles';\nimport withReducer from 'app/store/withReducer';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport React, { useEffect, useRef } from 'react';\nimport { Calendar, momentLocalizer, Views } from 'react-big-calendar';\nimport withDragAndDrop from 'react-big-calendar/lib/addons/dragAndDrop';\nimport 'react-big-calendar/lib/addons/dragAndDrop/styles.css';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport * as ReactDOM from 'react-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport CalendarHeader from './CalendarHeader';\nimport EventDialog from './EventDialog';\nimport reducer from './store';\nimport {\n\tdateFormat,\n\tselectEvents,\n\topenNewEventDialog,\n\topenEditEventDialog,\n\tupdateEvent,\n\tgetEvents\n} from './store/eventsSlice';\n\nconst localizer = momentLocalizer(moment);\n\nconst DragAndDropCalendar = withDragAndDrop(Calendar);\n\nconst allViews = Object.keys(Views).map(k => Views[k]);\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\t'& .rbc-header': {\n\t\t\tpadding: '12px 6px',\n\t\t\tfontWeight: 600,\n\t\t\tfontSize: 14\n\t\t},\n\t\t'& .rbc-label': {\n\t\t\tpadding: '8px 6px'\n\t\t},\n\t\t'& .rbc-today': {\n\t\t\tbackgroundColor: 'transparent'\n\t\t},\n\t\t'& .rbc-header.rbc-today, & .rbc-month-view .rbc-day-bg.rbc-today': {\n\t\t\tborderBottom: `2px solid ${theme.palette.secondary.main}!important`\n\t\t},\n\t\t'& .rbc-month-view, & .rbc-time-view, & .rbc-agenda-view': {\n\t\t\tpadding: 24,\n\t\t\t[theme.breakpoints.down('sm')]: {\n\t\t\t\tpadding: 16\n\t\t\t},\n\t\t\t...theme.mixins.border(0)\n\t\t},\n\t\t'& .rbc-agenda-view table': {\n\t\t\t...theme.mixins.border(1),\n\t\t\t'& thead > tr > th': {\n\t\t\t\t...theme.mixins.borderBottom(0)\n\t\t\t},\n\t\t\t'& tbody > tr > td': {\n\t\t\t\tpadding: '12px 6px',\n\t\t\t\t'& + td': {\n\t\t\t\t\t...theme.mixins.borderLeft(1)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'& .rbc-agenda-table': {\n\t\t\t'& th': {\n\t\t\t\tborder: 0\n\t\t\t},\n\t\t\t'& th, & td': {\n\t\t\t\tpadding: '12px 16px!important'\n\t\t\t}\n\t\t},\n\t\t'& .rbc-time-view': {\n\t\t\t'& .rbc-time-header': {\n\t\t\t\t...theme.mixins.border(1),\n\t\t\t\tborderRadius: '12px 12px 0 0'\n\t\t\t},\n\t\t\t'& .rbc-time-content': {\n\t\t\t\tflex: '0 1 auto',\n\t\t\t\t...theme.mixins.border(1)\n\t\t\t}\n\t\t},\n\t\t'& .rbc-month-view': {\n\t\t\t'& > .rbc-month-header': {\n\t\t\t\tborderRadius: '12px 12px 0 0'\n\t\t\t},\n\t\t\t'& > .rbc-row': {\n\t\t\t\t...theme.mixins.border(1)\n\t\t\t},\n\t\t\t'& .rbc-month-row': {\n\t\t\t\t...theme.mixins.border(1),\n\t\t\t\tborderWidth: '0 1px 1px 1px!important',\n\t\t\t\tminHeight: 128\n\t\t\t},\n\t\t\t'& .rbc-header + .rbc-header': {\n\t\t\t\t...theme.mixins.borderLeft(1)\n\t\t\t},\n\t\t\t'& .rbc-header': {\n\t\t\t\t...theme.mixins.borderBottom(0)\n\t\t\t},\n\t\t\t'& .rbc-day-bg + .rbc-day-bg': {\n\t\t\t\t...theme.mixins.borderLeft(1)\n\t\t\t}\n\t\t},\n\t\t'& .rbc-day-slot .rbc-time-slot': {\n\t\t\t...theme.mixins.borderTop(1),\n\t\t\topacity: 0.5\n\t\t},\n\t\t'& .rbc-time-header > .rbc-row > * + *': {\n\t\t\t...theme.mixins.borderLeft(1)\n\t\t},\n\t\t'& .rbc-time-content > * + * > *': {\n\t\t\t...theme.mixins.borderLeft(1)\n\t\t},\n\t\t'& .rbc-day-bg + .rbc-day-bg': {\n\t\t\t...theme.mixins.borderLeft(1)\n\t\t},\n\t\t'& .rbc-time-header > .rbc-row:first-child': {\n\t\t\t...theme.mixins.borderBottom(1)\n\t\t},\n\t\t'& .rbc-timeslot-group': {\n\t\t\tminHeight: 64,\n\t\t\t...theme.mixins.borderBottom(1)\n\t\t},\n\t\t'& .rbc-date-cell': {\n\t\t\tpadding: 8,\n\t\t\tfontSize: 16,\n\t\t\tfontWeight: 400,\n\t\t\topacity: 0.5,\n\t\t\t'& > a': {\n\t\t\t\tcolor: 'inherit'\n\t\t\t}\n\t\t},\n\t\t'& .rbc-event': {\n\t\t\tborderRadius: 4,\n\t\t\tpadding: '4px 8px',\n\t\t\tbackgroundColor: theme.palette.primary.dark,\n\t\t\tcolor: theme.palette.primary.contrastText,\n\t\t\tboxShadow: theme.shadows[0],\n\t\t\ttransitionProperty: 'box-shadow',\n\t\t\ttransitionDuration: theme.transitions.duration.short,\n\t\t\ttransitionTimingFunction: theme.transitions.easing.easeInOut,\n\t\t\tposition: 'relative',\n\t\t\t'&:hover': {\n\t\t\t\tboxShadow: theme.shadows[2]\n\t\t\t}\n\t\t},\n\t\t'& .rbc-row-segment': {\n\t\t\tpadding: '0 4px 4px 4px'\n\t\t},\n\t\t'& .rbc-off-range-bg': {\n\t\t\tbackgroundColor: theme.palette.type === 'light' ? 'rgba(0,0,0,0.03)' : 'rgba(0,0,0,0.16)'\n\t\t},\n\t\t'& .rbc-show-more': {\n\t\t\tcolor: theme.palette.secondary.main,\n\t\t\tbackground: 'transparent'\n\t\t},\n\t\t'& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event': {\n\t\t\tposition: 'static'\n\t\t},\n\t\t'& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:first-child': {\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\theight: 'auto'\n\t\t},\n\t\t'& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:last-child': {\n\t\t\tright: 0,\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\theight: 'auto'\n\t\t}\n\t},\n\taddButton: {\n\t\tposition: 'absolute',\n\t\tright: 12,\n\t\ttop: 172,\n\t\tzIndex: 99\n\t}\n}));\n\nfunction CalendarApp(props) {\n\tconst dispatch = useDispatch();\n\tconst events = useSelector(selectEvents).map(event => ({\n\t\t...event,\n\t\tstart: moment(event.start, dateFormat).toDate(),\n\t\tend: moment(event.end, dateFormat).toDate()\n\t}));\n\n\tconst classes = useStyles(props);\n\tconst headerEl = useRef(null);\n\n\tuseEffect(() => {\n\t\tdispatch(getEvents());\n\t}, [dispatch]);\n\n\tfunction moveEvent({ event, start, end }) {\n\t\tdispatch(\n\t\t\tupdateEvent({\n\t\t\t\t...event,\n\t\t\t\tstart,\n\t\t\t\tend\n\t\t\t})\n\t\t);\n\t}\n\n\tfunction resizeEvent({ event, start, end }) {\n\t\tdelete event.type;\n\t\tdispatch(\n\t\t\tupdateEvent({\n\t\t\t\t...event,\n\t\t\t\tstart,\n\t\t\t\tend\n\t\t\t})\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className={clsx(classes.root, 'flex flex-col flex-auto relative')}>\n\t\t\t<div ref={headerEl} />\n\t\t\t<DragAndDropCalendar\n\t\t\t\tclassName=\"flex flex-1 container\"\n\t\t\t\tselectable\n\t\t\t\tlocalizer={localizer}\n\t\t\t\tevents={events}\n\t\t\t\tonEventDrop={moveEvent}\n\t\t\t\tresizable\n\t\t\t\tonEventResize={resizeEvent}\n\t\t\t\tdefaultView={Views.MONTH}\n\t\t\t\tdefaultDate={new Date(2020, 3, 1)}\n\t\t\t\tstartAccessor=\"start\"\n\t\t\t\tendAccessor=\"end\"\n\t\t\t\tviews={allViews}\n\t\t\t\tstep={60}\n\t\t\t\tshowMultiDayTimes\n\t\t\t\tcomponents={{\n\t\t\t\t\ttoolbar: _props => {\n\t\t\t\t\t\treturn headerEl.current\n\t\t\t\t\t\t\t? ReactDOM.createPortal(<CalendarHeader {..._props} />, headerEl.current)\n\t\t\t\t\t\t\t: null;\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\t// onNavigate={handleNavigate}\n\t\t\t\tonSelectEvent={event => {\n\t\t\t\t\tdispatch(openEditEventDialog(event));\n\t\t\t\t}}\n\t\t\t\tonSelectSlot={slotInfo => dispatch(openNewEventDialog(slotInfo))}\n\t\t\t/>\n\t\t\t<FuseAnimate animation=\"transition.expandIn\" delay={500}>\n\t\t\t\t<Fab\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\taria-label=\"add\"\n\t\t\t\t\tclassName={classes.addButton}\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\tdispatch(\n\t\t\t\t\t\t\topenNewEventDialog({\n\t\t\t\t\t\t\t\tstart: new Date(),\n\t\t\t\t\t\t\t\tend: new Date()\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<Icon>add</Icon>\n\t\t\t\t</Fab>\n\t\t\t</FuseAnimate>\n\t\t\t<EventDialog />\n\t\t</div>\n\t);\n}\n\nexport default withReducer('calendarApp', reducer)(CalendarApp);\n\n/*\nIE 11 Fix\n*/\nif (!Element.prototype.matches) {\n\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n}\n\nif (!Element.prototype.closest) {\n\tElement.prototype.closest = s => {\n\t\tlet el = this;\n\n\t\tdo {\n\t\t\tif (el.matches(s)) return el;\n\t\t\tel = el.parentElement || el.parentNode;\n\t\t} while (el !== null && el.nodeType === 1);\n\t\treturn null;\n\t};\n}\n"]},"metadata":{},"sourceType":"module"}